(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[0],{12:function(e,t,n){e.exports={nav:"Navbar_nav__3t595",item:"Navbar_item__3wlWD",active:"Navbar_active__fr_zt"}},121:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return b}));var a=n(18),r=n.n(a),o=n(32),i=n(39),u=n(8),s=n(17),l={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},c=function(e){return{type:"FOLLOW",userID:e}},m=function(e){return{type:"UNFOLLOW",userID:e}},d=function(e){return{type:"SET_USERS",users:e}},f=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},p=function(e){return{type:"IS_TOGGLE_FETCHING",isFetching:e}},E=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userID:t}},g=function(e,t){return function(){var n=Object(o.a)(r.a.mark((function n(a){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(p(!0)),n.next=3,s.c.getUsers(e,t);case 3:o=n.sent,a(p(!1)),a(d(o.items)),a({type:"SET_TOTAL_USERS_COUNT",count:o.totalCount});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(e,t){return function(){var n=Object(o.a)(r.a.mark((function n(a){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(f(e)),a(p(!0)),n.next=4,s.c.getUsers(e,t);case 4:o=n.sent,a(p(!1)),a(d(o.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(E(!0,e)),t.next=3,s.c.follow(e);case 3:0===t.sent.data.resultCode&&n(c(e)),n(E(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(E(!0,e)),t.next=3,s.c.unfollow(e);case 3:0===t.sent.data.resultCode&&n(m(e)),n(E(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(u.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(u.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(u.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(u.a)({},e,{followed:!1}):e}))});case"SET_USERS":return Object(u.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(u.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(u.a)({},e,{totalUsersCount:t.count});case"IS_TOGGLE_FETCHING":return Object(u.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(u.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!=t.userID}))});default:return e}}},128:function(e,t,n){e.exports={ldsRing:"Loader_ldsRing__nkn_4"}},130:function(e,t,n){e.exports={item:"Post_item__21NoF"}},157:function(e,t,n){e.exports=n(286)},162:function(e,t,n){},166:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));var a=n(129),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"5695b80a-0241-44c0-8ae2-e291419df2a1"}}),o={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},i={authMe:function(){return r.get("auth/me")},login:function(e,t,n){return r.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("auth/login")}},u={getUserProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})}}},170:function(e,t,n){},23:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2WA_y",dialogsItems:"Dialogs_dialogsItems___zfzg",active:"Dialogs_active__2rC0n",dialog:"Dialogs_dialog__2KRpd",messages:"Dialogs_messages__3zwDr",message:"Dialogs_message__152S1"}},286:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(56),u=n.n(i),s=(n(162),n(9)),l=n(10),c=n(57),m=n(58),d=n(62),f=n(59),p=n(63),E=(n(166),n(28)),g=n(12),h=n.n(g),v=function(){return o.a.createElement("nav",{className:h.a.nav},o.a.createElement("div",{className:h.a.item},o.a.createElement(l.b,{to:"/profile",activeClassName:h.a.active},"Profile")),o.a.createElement("div",{className:"".concat(h.a.item," ").concat(h.a.active)},o.a.createElement(l.b,{to:"/dialogs",activeClassName:h.a.active},"Messages")),o.a.createElement("div",{className:h.a.item},o.a.createElement(l.b,{to:"/users",activeClassName:h.a.active},"Users")),o.a.createElement("div",{className:h.a.item},o.a.createElement(l.b,{to:"/news",activeClassName:h.a.active},"News")),o.a.createElement("div",{className:h.a.item},o.a.createElement(l.b,{to:"/music",activeClassName:h.a.active},"Music")),o.a.createElement("div",{className:h.a.item},o.a.createElement(l.b,{to:"/settings",activeClassName:h.a.active},"Settings")))},b=(n(168),function(e){return o.a.createElement("div",null,"News")}),S=(n(169),function(e){return o.a.createElement("div",null,"Music")}),A=(n(170),function(e){return o.a.createElement("div",null,"Settings")}),O=n(7),I=n(39),C=n(8),N={messages:[{id:1,message:"Hi"},{id:2,message:"Hello"},{id:3,message:"How are you?"},{id:4,message:"Whats`s new?"},{id:5,message:"Whats up?"},{id:6,message:"Good morning"}],dialogs:[{id:1,name:"Kyrill"},{id:2,name:"Sveta"},{id:3,name:"Andrey"},{id:4,name:"Kolya"},{id:5,name:"Igor"},{id:6,name:"Alex"},{id:7,name:"Valera"}]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":return Object(C.a)({},e,{messages:[].concat(Object(I.a)(e.messages),[{id:8,message:t.message}])});default:return e}},j=n(23),y=n.n(j),w=function(e){return o.a.createElement("div",{className:y.a.dialog},e.message)},D=function(e){var t="/dialogs/"+e.id;return o.a.createElement("div",{className:y.a.dialog+" "+y.a.active},o.a.createElement(l.b,{to:t},e.name))},R=n(122),T=n(123),P=n(64),x=n.n(P),U=function(e){if(!e)return"Required"},Q=function(e){var t=e.input,n=e.meta;return o.a.createElement("div",null,o.a.createElement("textarea",t),n.touched&&n.error?o.a.createElement("div",null,n.error):null)},_=function(e){var t=e.input,n=e.meta,a=n.touched&&n.error;return o.a.createElement("div",null,o.a.createElement("input",Object.assign({},t,{className:a&&x.a.errorBorder})),a&&o.a.createElement("div",null,n.error))},B=(a=10,function(e){return e&&e.length>a?"Must be  ".concat(a," characters or less"):void 0}),M=Object(T.a)({form:"dialog"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("div",null,o.a.createElement(R.a,{name:"dialogInput",component:Q,validate:[U,B]})),o.a.createElement("div",null,o.a.createElement("button",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))})),L=function(e){var t=e.state,n=t.dialogs.map((function(e){return o.a.createElement(D,{name:e.name,id:e.id})})),a=t.messages.map((function(e){return o.a.createElement(w,{message:e.message})}));return o.a.createElement("div",{className:y.a.dialogs},o.a.createElement("div",{className:y.a.dialogsItems},n),o.a.createElement("div",{className:y.a.messages},o.a.createElement("div",null,a),o.a.createElement("div",null,o.a.createElement(M,{onSubmit:function(t){e.sentMessage(t.dialogInput)}}))))};var K=Object(O.d)(Object(s.b)((function(e){return{state:e.dialogsPage,isAuth:e.auth.isAuth}}),{sentMessage:function(e){return{type:"ADD-MESSAGE",message:e}}}),(function(e){return function(t){return t.isAuth?o.a.createElement(e,t):o.a.createElement(E.a,{to:"/login"})}}))((function(e){return o.a.createElement(L,e)})),W=n(88),F=n.n(W),G=n(61),J=n(83),Z=function(e){var t=Object(r.useState)(!1),n=Object(J.a)(t,2),a=n[0],i=n[1],u=Object(r.useState)(e.status),s=Object(J.a)(u,2),l=s[0],c=s[1];return o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("strong",null,"status: ")),a?o.a.createElement("input",{onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(l)},value:l}):o.a.createElement("span",{onDoubleClick:function(){i(!0)}},l))},q=function(e){return e.profile?o.a.createElement("div",{className:F.a.userInformation},o.a.createElement("div",{className:F.a.userPhoto},o.a.createElement("img",{src:e.profile.photos.large})),o.a.createElement("div",null,o.a.createElement(Z,Object.assign({},e,{status:e.status,updateStatus:e.updateStatus}))),o.a.createElement("div",null,o.a.createElement("strong",null," Name:")," ",e.profile.fullName),o.a.createElement("div",null,o.a.createElement("strong",null,"About me: "),e.profile.aboutMe),o.a.createElement("div",null,o.a.createElement("strong",null,"Looking for a job: "),e.profile.lookingForAJob?"yes":"no",e.profile.lookingForAJob?o.a.createElement("div",null,o.a.createElement("strong",null,"work status:")," ",e.profile.lookingForAJobDescription," "):null)):o.a.createElement(G.a,null)},H=n(17),Y={posts:[{id:1,message:"how are you?",likesCount:12},{id:2,message:"Its my first post",likesCount:15},{id:3,message:"How are you?",likesCount:10},{id:4,message:"Whats`s new?",likesCount:11},{id:5,message:"Whats up?",likesCount:17},{id:6,message:"Good morning",likesCount:16}],profile:null,status:""},z=function(e){return{type:"SET_STATUS",status:e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(C.a)({},e,{posts:[].concat(Object(I.a)(e.posts),[{id:5,message:t.post,likesCount:0}])});case"SET_USER_PROFILE":return Object(C.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(C.a)({},e,{status:t.status});default:return e}},X=n(89),$=n.n(X),ee=n(130),te=n.n(ee),ne=function(e){return o.a.createElement("div",null,o.a.createElement("div",{className:te.a.item},o.a.createElement("img",{src:"https://peopletalk.ru/wp-content/uploads/2016/11/1480331127.jpg"}),e.message),o.a.createElement("span",null,"likes ",e.like))},ae=Object(T.a)({form:"postForm"})((function(e){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("div",null,o.a.createElement(R.a,{name:"post",component:"textarea"})),o.a.createElement("div",null,o.a.createElement("button",null,"Add post"))))})),re=function(e){var t=e.posts.map((function(e){return o.a.createElement(ne,{message:e.message,like:e.likesCount})}));return o.a.createElement("div",{className:$.a.postBlock},o.a.createElement("h3",null,"My posts"),o.a.createElement(ae,{onSubmit:function(t){e.addPost(t.post)}}),o.a.createElement("div",{className:$.a.posts},t))},oe=Object(s.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPost:function(e){return{type:"ADD-POST",post:e}}})(re),ie=function(e){return o.a.createElement("div",null,o.a.createElement(q,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),o.a.createElement(oe,null))},ue=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userID;e=e||this.props.authID?this.props.authID:2,this.props.getProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return o.a.createElement(ie,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),t}(o.a.Component),se=Object(O.d)(Object(s.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authID:e.auth.id}}),{getProfile:function(e){return function(t){H.b.getUserProfile(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}},getStatus:function(e){return function(t){H.b.getStatus(e).then((function(e){t(z(e.data))}))}},updateStatus:function(e){return function(t){H.b.updateStatus(e).then((function(n){0===n.data.resultCode&&t(z(e))}))}}}),E.f)(ue),le=n(90),ce=n.n(le),me=function(e){return o.a.createElement("header",{className:ce.a.header},o.a.createElement("img",{src:"data:image/png;base64,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"}),o.a.createElement("div",{className:ce.a.btn},o.a.createElement("img",{src:e.photo}),e.isAuth?o.a.createElement("div",null,e.login," ",o.a.createElement("div",null,o.a.createElement("button",{onClick:e.logout},"Logout"))," "):o.a.createElement(l.b,{to:"/login"},"Login")))},de=n(34),fe={id:null,login:null,email:null,isAuth:!1,photo:null},pe=function(e,t,n,a){return{type:"SET_USER_DATA",data:{id:e,login:t,email:n,isAuth:a}}},Ee=function(){return function(e){return H.a.authMe().then((function(t){if(0===t.data.resultCode){var n=t.data.data,a=n.id,r=n.login,o=n.email;e(pe(a,r,o,!0))}}))}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(C.a)({},e,{},t.data);case"SET_USER_PHOTO":return Object(C.a)({},e,{photo:t.photo});default:return e}};var he=Object(s.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,photo:e.auth.photo,id:e.auth.id}}),{logout:function(){return function(e){H.a.logout().then((function(t){0===t.data.resultCode&&e(pe(null,null,null,!1))}))}}})((function(e){return o.a.createElement(me,e)})),ve=Object(T.a)({form:"auth"})((function(e){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("div",null,o.a.createElement(R.a,{placeholder:"login",name:"login",component:_,validate:[U]})),o.a.createElement("div",null,o.a.createElement(R.a,{placeholder:"password",name:"password",component:_,validate:[U]})),e.error&&o.a.createElement("div",{className:x.a.errorBorder},e.error),o.a.createElement("div",null,o.a.createElement(R.a,{type:"checkbox",name:"rememberMe",component:"input"})," ","remember me"),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"Submit"))))})),be=Object(s.b)((function(e){return{isAuth:e.auth.isAuth}}),{logIn:function(e,t,n){return function(a){H.a.login(e,t,n).then((function(e){if(0===e.data.resultCode)a(Ee());else{var t=e.data.messages.length>0?e.data.messages[0]:"Some error";a(Object(de.a)("auth",{_error:t}))}}))}}})((function(e){return e.isAuth?o.a.createElement(E.a,{to:"./profile"}):o.a.createElement("div",null,o.a.createElement("h1",null,"Login"),o.a.createElement(ve,{onSubmit:function(t){e.logIn(t.login,t.password,t.rememberMe)}}))})),Se=n(18),Ae=n.n(Se),Oe=n(32),Ie={initialized:!1},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case" INITIALIZE_USER":return Object(C.a)({},e,{initialized:!0});default:return e}},Ne=o.a.lazy((function(){return n.e(3).then(n.bind(null,289))})),ke=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?o.a.createElement("div",{className:"app-wrapper"},o.a.createElement(he,null),o.a.createElement(v,null),o.a.createElement("div",{className:"app-wrapper-content"},o.a.createElement(E.b,{path:"/dialogs",render:function(){return o.a.createElement(K,null)}}),o.a.createElement(E.b,{exact:!0,path:"/",render:function(){return o.a.createElement(se,null)}}),o.a.createElement(E.b,{path:"/profile/:userID?",render:function(){return o.a.createElement(se,null)}}),o.a.createElement(E.b,{path:"/news",component:b}),o.a.createElement(E.b,{path:"/users",render:(e=Ne,function(t){return o.a.createElement(o.a.Suspense,{fallback:o.a.createElement("div",null,"Loading...")},o.a.createElement(e,t))})}),o.a.createElement(E.b,{path:"/music",component:S}),o.a.createElement(E.b,{path:"/settings",component:A}),o.a.createElement(E.b,{path:"/login",component:be}))):o.a.createElement(G.a,null);var e}}]),t}(o.a.Component),je=Object(s.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(Oe.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ee());case 2:return e.next=4,t({type:" INITIALIZE_USER"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ke);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=n(131),we=n(124),De=n(121),Re=Object(O.c)({profilePage:V,dialogsPage:k,usersPage:De.b,auth:ge,form:we.a,app:Ce}),Te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.d,Pe=Object(O.e)(Re,Te(Object(O.a)(ye.a)));u.a.render(o.a.createElement(s.a,{store:Pe},o.a.createElement(l.a,null,o.a.createElement(je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(128),i=n.n(o);t.a=function(){return r.a.createElement("div",{className:i.a.ldsRing},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}},64:function(e,t,n){e.exports={errorBorder:"validation_errorBorder__24bXb"}},88:function(e,t,n){e.exports={userPhoto:"ProfileInfo_userPhoto__1oSaJ",userInformation:"ProfileInfo_userInformation__f8LgP"}},89:function(e,t,n){e.exports={postBlock:"MyPosts_postBlock__1oylK",posts:"MyPosts_posts__ZWF8l"}},90:function(e,t,n){e.exports={header:"Header_header__3wrgy",btn:"Header_btn__N1jks"}}},[[157,1,2]]]);
//# sourceMappingURL=main.c230f036.chunk.js.map