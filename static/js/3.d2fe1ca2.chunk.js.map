{"version":3,"sources":["components/Users/Users.module.css","HOC/selectors.js","components/Users/Paginator.tsx","components/Users/User.tsx","components/Users/UsersContainer.tsx"],"names":["module","exports","getUsersSelector","state","usersPage","users","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getFollowingInProgress","followingInProgress","getIsFetching","isFetching","Paginator","onPageChanged","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","Loader","onClick","filter","p","map","key","className","cn","s","navBar","User","user","unfollow","follow","userItem","to","id","alt","src","photos","small","userPhoto","followed","type","disabled","some","name","status","UsersContainer","pageNumber","props","changePage","this","getUsers","React","Component","connect"],"mappings":"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","file":"static/js/3.d2fe1ca2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2nN_Q\",\"navBar\":\"Users_navBar__3dIhe\",\"userItem\":\"Users_userItem__UfaCw\"};","\nexport const getUsersSelector = (state) => state.usersPage.users;\n\nexport const getPageSize = (state) => state.usersPage.pageSize;\n\nexport const getTotalUsersCount = (state) => state.usersPage.totalUsersCount;\n\nexport const getCurrentPage = (state) => state.usersPage.currentPage;\n\nexport const getFollowingInProgress = (state) => state.usersPage.followingInProgress;\n\nexport const getIsFetching = (state) => state.usersPage.isFetching;\n","import React, { useState, FC } from 'react';\nimport cn from 'classnames';\nimport Loader from '../Loader/Loader';\nimport s from './Users.module.css';\n\ntype PropsType = {\n  totalUsersCount: number\n  pageSize: number\n  currentPage: number\n  onPageChanged: (pageNumber: number) => void\n  isFetching: boolean\n}\n\nconst Paginator: FC<PropsType> = ({\n  totalUsersCount, pageSize, currentPage, onPageChanged, isFetching,\n}) => {\n  const pageCount = Math.ceil(totalUsersCount / pageSize);\n  const pages: Array<number> = [];\n  for (let i = 1; i <= pageCount; i++) {\n    pages.push(i);\n  }\n  const portionSize = 10;\n  const portionCount = Math.ceil(pageCount / portionSize);\n  const [portionNumber, setPortionNumber] = useState(1);\n  const leftPortionNumber = (portionNumber - 1) * portionSize + 1;\n  const rightPortionNumber = portionNumber * portionSize;\n  return (\n    <div>\n      {isFetching ? <Loader /> : null}\n      <div>\n        {portionNumber > 1\n          && <button onClick={() => { setPortionNumber(portionNumber - 1); }}>Prev</button>}\n        {pages\n          .filter((p) => p >= leftPortionNumber && p <= rightPortionNumber)\n          .map((p) => (\n            <span\n              key={p}\n              className={cn(currentPage === p && s.navBar)}\n              onClick={() => {\n                onPageChanged(p);\n              }}\n            >\n              {p}\n            </span>\n          ))}\n        {portionCount > portionNumber\n          && <button onClick={() => { setPortionNumber(portionNumber + 1); }}>Next</button>}\n      </div>\n    </div>\n  );\n};\n\nexport default Paginator;\n","import React, { FC } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './Users.module.css';\nimport userPhoto from '../../assets/user.png';\nimport { userType } from '../../redux/reducerTypes';\n\n\ntype PropsType = {\n  user: userType\n  follow: (id: number) => void\n  unfollow: (id: number) => void\n  followingInProgress: Array<number>\n}\n\nconst User: FC<PropsType> = ({\n  user, unfollow, follow, followingInProgress,\n}) => (\n  <div className={s.userItem}>\n    <div>\n      <span>\n        <div>\n          <NavLink to={`/profile/${user.id}`}>\n            <img\n              alt=\"user\"\n              src={user.photos.small != null ? user.photos.small : userPhoto}\n              className={s.userPhoto}\n            />\n          </NavLink>\n        </div>\n        <div>\n          {user.followed ? (\n            <button\n              type=\"button\"\n              disabled={followingInProgress.some(\n                (id) => id === user.id,\n              )}\n              onClick={() => {\n                unfollow(user.id);\n              }}\n            >\n              Unfollow\n            </button>\n          ) : (\n            <button\n              disabled={followingInProgress.some(\n                (id) => id === user.id,\n              )}\n              onClick={() => {\n                follow(user.id);\n              }}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      </span>\n      <div>{user.name}</div>\n      <div>{user.status !== null && user.status}</div>\n    </div>\n  </div>\n);\n\nexport default User;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  changePage,\n  follow,\n  getUsers,\n  unfollow,\n} from '../../redux/users-reducer';\nimport {\n  getCurrentPage,\n  getFollowingInProgress, getIsFetching,\n  getPageSize,\n  getTotalUsersCount,\n  getUsersSelector,\n} from '../../HOC/selectors';\nimport Paginator from './Paginator';\nimport User from './User';\nimport { appStateType } from '../../redux/redux-store';\nimport { userType } from '../../redux/reducerTypes';\n\n\ntype MapStatePropsType = {\n  users: Array<userType>\n  pageSize: number\n  totalUsersCount: number\n  currentPage: number\n  followingInProgress: Array<number>\n  isFetching: boolean\n}\ntype MapDispatchPropsType = {\n  getUsers: (currentPage: number, pageSize: number) => void\n  follow: (id: number) => void\n  unfollow: (id: number) => void\n  changePage: (pageNumber: number, pageSize: number) => void\n}\ntype PropsType = MapStatePropsType & MapDispatchPropsType\n\nclass UsersContainer extends React.Component<PropsType> {\n  componentDidMount() {\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\n  }\n\n    onPageChanged = (pageNumber: number) => {\n      this.props.changePage(pageNumber, this.props.pageSize);\n    };\n\n\n    render() {\n      return (\n        <div>\n          <Paginator\n            totalUsersCount={this.props.totalUsersCount}\n            pageSize={this.props.pageSize}\n            currentPage={this.props.currentPage}\n            onPageChanged={this.onPageChanged}\n            isFetching={this.props.isFetching}\n          />\n          {this.props.users.map((user) => (// @ts-ignore\n            <User\n              user={user}\n              unfollow={this.props.unfollow}\n              follow={this.props.follow}\n              followingInProgress={this.props.followingInProgress}\n            />\n          ))}\n        </div>\n      );\n    }\n}\n\nconst mapStateToProps = (state: appStateType): MapStatePropsType => ({\n  users: getUsersSelector(state),\n  pageSize: getPageSize(state),\n  totalUsersCount: getTotalUsersCount(state),\n  currentPage: getCurrentPage(state),\n  followingInProgress: getFollowingInProgress(state),\n  isFetching: getIsFetching(state),\n});\n\nexport default connect<MapStatePropsType, MapDispatchPropsType, null, appStateType>(mapStateToProps, {\n  getUsers,\n  follow,\n  unfollow,\n  changePage,\n})(UsersContainer);\n"],"sourceRoot":""}