{"version":3,"sources":["API/API.ts","redux/users-reducer.ts","components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Loader/Loader.module.css","components/Profile/MyPosts/Post/Post.module.css","assets/vk-1.svg","components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","redux/dialogs-reducer.ts","components/Dialogs/dialogItem/DialogItem.tsx","components/Dialogs/DialogsContainer.tsx","HOC/HOC.jsx","redux/profile-reducer.ts","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileData.js","components/Profile/ProfileInfo/ProfileDataForms.js","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/AddPostForm.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileContainer.jsx","components/Header/HeaderContainer.jsx","components/Validation/validation.jsx","components/LoginPage/Login.jsx","components/Dialogs/Dialog.tsx","App.js","serviceWorker.js","redux/redux-store.ts","index.jsx","assets/user.png","components/Loader/Loader.jsx","components/Header/Header.module.scss","redux/auth-reducer.ts","components/Profile/MyPosts/MyPosts.module.scss","components/Dialogs/dialogItem/DialogItem.module.scss","components/Validation/validation.module.scss","redux/app-reducer.js","components/Dialogs/Dialog.module.scss"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getUsersForSearch","term","follow","userID","post","unfollow","delete","authAPI","authMe","res","login","email","password","rememberMe","captcha","logout","getCaptcha","profileAPI","getUserProfile","getStatus","updateStatus","status","put","updateUserProfileInformation","userInfo","savePhoto","photo","formData","FormData","append","dialogsAPI","sendMessage","userId","body","getDialogs","geExactDialog","startChatting","viewedMessage","messageId","initialState","users","totalUsersCount","isFetching","followingInProgress","ActionCreators","type","totalCount","count","dispatch","a","items","changePage","alert","resultCode","filterUsers","value","usersReducer","state","action","map","user","id","followed","filter","module","exports","Navbar","className","s","nav","item","to","activeClassName","active","dialogs","messages","boolean","message","reset","dialogsReducer","DialogItem","props","dateAndTime","wasOnline","split","time","slice","dialog","userPhoto","alt","src","userName","name","newMessagesCount","newMessage","lastActivity","Dialogs","this","length","dialogElements","lastUserActivityDate","photos","small","Loader","React","Component","compose","connect","dialogsPage","isAuth","auth","posts","likesCount","profile","statusError","error","getProfile","profileReducer","ProfileStatus","useState","ActiveMode","setActiveMode","setStatus","authID","isOwner","statusFont","onChange","e","currentTarget","autoFocus","onBlur","onDoubleClick","Contact","contactKey","contactValue","ProfileData","changeEditMode","match","params","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Object","keys","contacts","key","btn","onClick","ProfileDataFormContainer","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","MessageReduxForm","cn","btn2","updateUserInformation","userData","getState","stopSubmit","_error","editMode","input","showInput","messageInput","showMessageInput","gridContainer","large","target","files","saveUserPhoto","initialValues","Post","like","PostFormRedux","profilePage","newPostText","postsElements","p","postBlock","myPosts","addPost","ProfileContainer","history","push","MyPostsContainer","withRouter","header","vkLogo","box","userImg","link","required","authInput","meta","isError","touched","errorBorder","AuthForm","captchaUrl","validate","style","height","width","url","logIn","Dialog","getExactDialog","DialogFormRedux","Messages","obj","senderName","senderId","notViewed","viewed","updateViewedStatus","UsersContainer","lazy","App","initializeApp","initialized","HeaderContainer","path","render","DialogsContainer","exact","Suspense","fallback","Login","app","Boolean","window","location","hostname","rootReducer","combineReducers","usersPage","authReducer","formReducer","appReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunk","ReactDOM","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","ldsRing","setAuthUserData","putCaptchaUrl","signIn","getCaptchaUrl","errorMessage","__assign","assign","t","i","n","arguments","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","__generator","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","defineProperty","initializeUser","auth_reducer_1","require","_a","default"],"mappings":"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","file":"static/js/main.1c4c2cd2.chunk.js","sourcesContent":["import axios from 'axios';\nimport {\n  profileType, userType, photosType, newMessageType, dialogType, messageType,\n} from '../redux/reducerTypes';\n\nconst instance = axios.create({\n  withCredentials: true,\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  headers: {\n    'API-KEY': '5695b80a-0241-44c0-8ae2-e291419df2a1',\n  },\n});\n\ntype ItemsType<I> = {\n  items: Array<I>\n  totalCount: number\n  error: null | string\n}\ntype OperationResultObject<D = {}> = {\n  resultCode: number\n  messages: Array<string>\n  data: D\n}\ntype CaptchaType = {\n  url: string\n}\ntype SavePhotoResponseType = {\n  resultCode: number\n  messages: Array<string>\n  photos: photosType\n}\ntype SendMessageType = {\n    message: newMessageType\n}\n\nexport const usersAPI = {\n  getUsers(currentPage: number, pageSize: number) {\n    return instance.get<ItemsType<userType>>(`users?page=${currentPage}&count=${pageSize}`)\n      .then((response) => response.data);\n  },\n  getUsersForSearch(term: string) {\n    return instance.get<ItemsType<userType>>(`users?term=${term}`)\n      .then((response) => response.data);\n  },\n  follow(userID: number) {\n    return instance.post<OperationResultObject>(`follow/${userID}`);\n  },\n  unfollow(userID: number) {\n    return instance.delete<OperationResultObject>(`follow/${userID}`);\n  },\n};\n\nexport const authAPI = {\n  authMe() {\n    return instance.get<OperationResultObject<{ id: number, email: string, login: string }>>('auth/me').then((res) => res.data);\n  },\n  login(email: string, password: string, rememberMe: boolean, captcha: string | null = null) {\n    return instance.post<OperationResultObject<{ userId : number }>>('auth/login', {\n      email, password, rememberMe, captcha,\n    }).then((res) => res.data);\n  },\n  logout() {\n    return instance.delete('auth/login').then((res) => res.data);\n  },\n  getCaptcha() {\n    return instance.get<CaptchaType>('security/get-captcha-url').then((res) => res.data);\n  },\n\n};\n\n\nexport const profileAPI = {\n  getUserProfile(userID: number) {\n    return instance.get<profileType>(`profile/${userID}`).then((res) => res.data);\n  },\n  getStatus(userID: number) {\n    return instance.get<string>(`profile/status/${userID}`).then((res) => res.data);\n  },\n  updateStatus(status: string) {\n    return instance.put<OperationResultObject>('profile/status', { status }).then((res) => res.data);\n  },\n  updateUserProfileInformation(userInfo: profileType) {\n    return instance.put<OperationResultObject>('profile', userInfo).then((res) => res.data);\n  },\n  savePhoto(photo: File) {\n    const formData = new FormData();\n    formData.append('image', photo);\n    return instance.put<SavePhotoResponseType>('profile/photo', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    }).then((res) => res.data);\n  },\n};\n\nexport const dialogsAPI = {\n  sendMessage(userId: number, body: string) {\n    return instance.post<OperationResultObject<SendMessageType>>(`dialogs/${userId}/messages`, body).then((res) => res.data);\n  },\n  getDialogs() {\n    return instance.get<Array<dialogType>>('dialogs');\n  },\n  geExactDialog(userId: number) {\n    return instance.get<ItemsType<messageType>>(`dialogs/${userId}/messages`);\n  },\n  startChatting(userId: number) {\n    return instance.put(`dialogs/${userId}`);\n  },\n  viewedMessage(messageId: string) {\n    return instance.get<boolean>(`dialogs/messages/${messageId}/viewed`);\n  },\n};\n","import { usersAPI } from '../API/API';\nimport { userType } from './reducerTypes';\nimport { CommonThunkType, GlobalActionTypes } from './redux-store';\n\nconst initialState = {\n  users: [] as Array<userType>,\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: [] as Array<number>,\n};\ntype initialStateType = typeof initialState\ntype ActionTypes = GlobalActionTypes<typeof ActionCreators>\ntype ThunkType = CommonThunkType<ActionTypes>\n\nconst usersReducer = (state = initialState, action: ActionTypes): initialStateType => {\n  switch (action.type) {\n    case 'FOLLOW':\n      return {\n        ...state,\n        users: state.users.map((user) => {\n          if (user.id === action.userID) {\n            return { ...user, followed: true };\n          }\n          return user;\n        }),\n      };\n    case 'UNFOLLOW':\n      return {\n        ...state,\n        users: state.users.map((user) => {\n          if (user.id === action.userID) {\n            return { ...user, followed: false };\n          }\n          return user;\n        }),\n      };\n    case 'SET_USERS':\n      return {\n        ...state, users: action.users,\n      };\n    case 'SET_CURRENT_PAGE':\n      return {\n        ...state, currentPage: action.currentPage,\n      };\n    case 'SET_TOTAL_USERS_COUNT':\n      return {\n        ...state, totalUsersCount: action.count,\n      };\n    case 'IS_TOGGLE_FETCHING':\n      return {\n        ...state, isFetching: action.isFetching,\n      };\n    case 'TOGGLE_IS_FOLLOWING_PROGRESS':\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userID]\n          : state.followingInProgress.filter((id) => id !== action.userID),\n      };\n    case 'FILTER_USERS':\n      return {\n        ...state, users: action.users,\n      };\n\n    default:\n      return state;\n  }\n};\n// Action Creators\nexport const ActionCreators = {\n  followAC: (userID: number) => (\n      { type: 'FOLLOW', userID } as const),\n  unfollowAC: (userID: number) => (\n      { type: 'UNFOLLOW', userID } as const),\n  setUsers: (users: Array<userType>) => (\n      { type: 'SET_USERS', users } as const),\n  setCurrentPage: (currentPage:number) => (\n      { type: 'SET_CURRENT_PAGE', currentPage } as const),\n  setTotalUsersCount: (totalCount: number) => (\n      { type: 'SET_TOTAL_USERS_COUNT', count: totalCount } as const),\n  isToggleFetching: (isFetching: boolean) => (\n      { type: 'IS_TOGGLE_FETCHING', isFetching } as const),\n  toggleFollowingProgress: (isFetching: boolean, userID: number) => (\n      { type: 'TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userID } as const),\n  filterUsers: (users: any) => ({ type: 'FILTER_USERS', users } as const),\n};\n\n// Thunks\nexport const getUsers = (currentPage: number, pageSize: number): ThunkType => async (dispatch) => {\n  dispatch(ActionCreators.isToggleFetching(true));\n  const data = await usersAPI.getUsers(currentPage, pageSize);\n  dispatch(ActionCreators.isToggleFetching(false));\n  dispatch(ActionCreators.setUsers(data.items));\n  dispatch(ActionCreators.setTotalUsersCount(data.totalCount));\n};\nexport const changePage = (currentPage: number, pageSize: number): ThunkType => async (dispatch) => {\n  try {\n    dispatch(ActionCreators.setCurrentPage(currentPage));\n    dispatch(ActionCreators.isToggleFetching(true));\n    const data = await usersAPI.getUsers(currentPage, pageSize);\n    dispatch(ActionCreators.isToggleFetching(false));\n    dispatch(ActionCreators.setUsers(data.items));\n  } catch (e) {\n    alert(e);\n  }\n};\nexport const follow = (userID: number): ThunkType => async (dispatch) => {\n  dispatch(ActionCreators.toggleFollowingProgress(true, userID));\n  const response = await usersAPI.follow(userID);\n  if (response.data.resultCode === 0) {\n    dispatch(ActionCreators.followAC(userID));\n  }\n  dispatch(ActionCreators.toggleFollowingProgress(false, userID));\n};\nexport const unfollow = (userID: number): ThunkType => async (dispatch) => {\n  dispatch(ActionCreators.toggleFollowingProgress(true, userID));\n  const response = await usersAPI.unfollow(userID);\n  if (response.data.resultCode === 0) {\n    dispatch(ActionCreators.unfollowAC(userID));\n  }\n  dispatch(ActionCreators.toggleFollowingProgress(false, userID));\n};\nexport const filterUsers = (value: string): ThunkType => async (dispatch) => {\n  const data = await usersAPI.getUsersForSearch(value);\n  dispatch(ActionCreators.filterUsers(data.items));\n};\n\n\nexport default usersReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridContainer\":\"ProfileInfo_gridContainer__3nIEI\",\"userPhoto\":\"ProfileInfo_userPhoto__3hr9N\",\"btn\":\"ProfileInfo_btn__2O9wf\",\"status\":\"ProfileInfo_status__yxkc8\",\"userInfo\":\"ProfileInfo_userInfo__3K03N\",\"userName\":\"ProfileInfo_userName__1Zp3B\",\"error\":\"ProfileInfo_error__Dc3f6\",\"statusFont\":\"ProfileInfo_statusFont__24bVy\",\"btn2\":\"ProfileInfo_btn2__3GweH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsRing\":\"Loader_ldsRing__nkn_4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__21NoF\"};","module.exports = __webpack_public_path__ + \"static/media/vk-1.258a9e69.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3t595\",\"item\":\"Navbar_item__3wlWD\",\"active\":\"Navbar_active__fr_zt\"};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './Navbar.module.css';\n\nconst Navbar = () => (\n  <nav className={s.nav}>\n    <div className={s.item}>\n      <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\n    </div>\n    <div className={`${s.item} ${s.active}`}>\n      <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\n    </div>\n    <div className={s.item}>\n      <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\n    </div>\n  </nav>\n);\n\nexport default Navbar;\n","import { reset } from 'redux-form';\nimport { dialogsAPI } from '../API/API';\nimport { dialogType, messageType, newMessageType } from './reducerTypes';\nimport { CommonThunkType, GlobalActionTypes } from './redux-store';\n\nconst initialState = {\n  dialogs: [] as Array<dialogType>,\n  messages: [] as Array<messageType>,\n  isFetching: false,\n};\n\ntype initialStateType = typeof initialState\ntype ActionTypes = GlobalActionTypes<typeof ActionCreators>\ntype ThunkType = CommonThunkType<ActionTypes>\n\nconst dialogsReducer = (state = initialState, action: ActionTypes): initialStateType => {\n  switch (action.type) {\n    case 'GET_DIALOGS':\n      return {\n        ...state,\n        dialogs: [...state.dialogs, ...action.dialogs],\n      };\n    case 'UPLOAD_DIALOG':\n      return {\n        ...state,\n        messages: [...action.messages],\n      };\n    case 'IS_FETCHING':\n      return {\n        ...state, isFetching: action.boolean,\n      };\n    case 'SEND_MESSAGE':\n      return {\n        ...state,\n        messages: [...state.messages, action.message],\n      };\n    default:\n      return state;\n  }\n};\nexport const ActionCreators = {\n  getUserDialogs: (dialogs: Array<dialogType>) => (\n    { type: 'GET_DIALOGS', dialogs } as const),\n\n  setDialog: (messages: Array<messageType>) => (\n    { type: 'UPLOAD_DIALOG', messages } as const),\n\n  isFetching: (boolean: boolean) => (\n    { type: 'IS_FETCHING', boolean } as const),\n\n  sendMessageAC: (message: newMessageType) => (\n    { type: 'SEND_MESSAGE', message } as const),\n\n};\n\n// Thunks\nexport const getDialogs = (): ThunkType => async (dispatch) => {\n  const response = await dialogsAPI.getDialogs();\n  dispatch(ActionCreators.isFetching(true));\n  dispatch(ActionCreators.getUserDialogs(response.data));\n};\nexport const getExactDialog = (id: number): ThunkType => async (dispatch) => {\n  dispatch(ActionCreators.isFetching(false));\n  const response = await dialogsAPI.geExactDialog(id);\n  await dispatch(ActionCreators.setDialog(response.data.items));\n  dispatch(ActionCreators.isFetching(true));\n};\nexport const startChatting = (id: number): ThunkType => async (dispatch) => { // непонятно что диспатчить\n  const response = await dialogsAPI.startChatting(id);\n};\nexport const updateViewedStatus = (messageId: string): ThunkType => async (dispatch) => { // Получаем true/false, пока не понятно куда диспатчить\n  const response = await dialogsAPI.viewedMessage(messageId);\n};\nexport const sendMessage = (userId: number, message: string): ThunkType => async (dispatch) => {\n  const response = await dialogsAPI.sendMessage(userId, message);\n  if (response.resultCode === 0) {\n    dispatch(ActionCreators.sendMessageAC(response.data.message));\n    // @ts-ignore\n    dispatch(reset('dialog'));\n    dispatch(startChatting(userId));\n  }\n};\n\n\nexport default dialogsReducer;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './DialogItem.module.scss';\nimport userPhoto from '../../../assets/user.png';\n\ntype PropsType = {\n    newMessagesCount: number\n    wasOnline: string\n    photo: string | null\n    name: string\n    id: number\n}\n\nconst DialogItem: React.FC<PropsType> = (props) => {\n  const dateAndTime = props.wasOnline.split('T');\n  const time = dateAndTime[1].slice(0, 5);\n  return (\n    <div className={s.dialog}>\n      <NavLink className={s.userPhoto} to={`/profile/${props.id}`}><img alt=\"user\" src={props.photo || userPhoto} /></NavLink>\n      <NavLink className={s.userName} to={`/dialog/${props.id}`}>{props.name}</NavLink>\n      {props.newMessagesCount === 0 ? null : (\n        <div className={s.newMessage}>\n          You have\n          {props.newMessagesCount}\n          {' '}\n          new messages\n        </div>\n      ) }\n      <div className={s.lastActivity}>\n        Last activity:\n        {' '}\n        {dateAndTime[0]}\n        {' '}\n        at\n        {' '}\n        {time}\n      </div>\n    </div>\n  );\n};\n\n\nexport default DialogItem;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withAuthRedirectHoc } from '../../HOC/HOC';\nimport { getDialogs, sendMessage } from '../../redux/dialogs-reducer';\nimport DialogItem from './dialogItem/DialogItem';\nimport Loader from '../Loader/Loader';\nimport { dialogType } from '../../redux/reducerTypes';\nimport { appStateType } from '../../redux/redux-store';\n\ntype MapStateToProps = {\n  isFetching: boolean\n  dialogs: Array<dialogType>\n  isAuth: boolean | null\n}\ntype MapDispatchToProps = {\n  getDialogs: () => void\n}\n\nclass Dialogs extends React.Component<MapStateToProps & MapDispatchToProps> {\n  componentDidMount() {\n    if (this.props.dialogs.length === 0) { this.props.getDialogs(); }\n  }\n\n  render() {\n    const dialogElements = this.props.dialogs.map(\n      (dialog) => (\n        <DialogItem\n          newMessagesCount={dialog.newMessagesCount}\n          wasOnline={dialog.lastUserActivityDate}\n          photo={dialog.photos.small}\n          name={dialog.userName}\n          id={dialog.id}\n        />\n      ),\n    );\n    return (\n      <div>\n        {this.props.isFetching ? dialogElements : <Loader /> }\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state: appStateType): MapStateToProps => ({\n  isFetching: state.dialogsPage.isFetching,\n  dialogs: state.dialogsPage.dialogs,\n  isAuth: state.auth.isAuth,\n});\nexport default compose<React.ComponentType>(connect<MapStateToProps, MapDispatchToProps, null, appStateType>(\n  mapStateToProps, { getDialogs },\n), withAuthRedirectHoc)(Dialogs);","import { Redirect } from 'react-router-dom';\nimport React, {useEffect, useState} from 'react';\n\nexport const withAuthRedirectHoc = (Component) => {\n  const redirectComponent = (props) => {\n    if (!props.isAuth) {\n      return <Redirect to=\"/login\" />;\n    }\n    return <Component {...props} />;\n  };\n  return redirectComponent;\n};\n\nexport const withSuspense = (Component) => (props) => <React.Suspense fallback={<div>Loading...</div>}><Component {...props} /></React.Suspense>;\n\n\nexport const useInfiniteScroll = (callback) => {\n  const [isFetching, setIsFetching] = useState(false);\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  useEffect(() => {\n    if (!isFetching) return;\n    callback(() => {\n      console.log('called back');\n    });\n  }, [isFetching]);\n\n  function handleScroll() {\n    if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || isFetching) return;\n    setIsFetching(true);\n  }\n\n  return [isFetching, setIsFetching];\n};\n","import { stopSubmit } from 'redux-form';\nimport { profileAPI } from '../API/API';\nimport { photosType, postType, profileType } from './reducerTypes';\nimport { CommonThunkType, GlobalActionTypes} from './redux-store';\n\nconst initialState = {\n  posts: [\n    { id: 1, message: 'how are you?', likesCount: 12 },\n    { id: 2, message: 'Its my first post', likesCount: 15 },\n    { id: 3, message: 'How are you?', likesCount: 10 },\n    { id: 4, message: 'Whats`s new?', likesCount: 11 },\n    { id: 5, message: 'Whats up?', likesCount: 17 },\n    { id: 6, message: 'Good morning', likesCount: 16 },\n  ] as Array<postType>,\n  profile: null as profileType | null,\n  status: '',\n  statusError: null as string | null,\n};\ntype initialStateType = typeof initialState\n\ntype ActionTypes = GlobalActionTypes<typeof ActionCreators>\ntype ThunkType = CommonThunkType<ActionTypes>\n\nconst profileReducer = (state = initialState, action: ActionTypes): initialStateType => {\n  switch (action.type) {\n    case 'ADD_POST':\n      return {\n        ...state,\n        posts: [...state.posts, { id: 5, message: action.post, likesCount: 0 }],\n      };\n    case 'SET_USER_PROFILE':\n      return {\n        ...state,\n        profile: action.profile,\n      };\n    case 'GET_STATUS':\n      return {\n        ...state,\n        status: action.status,\n      };\n    case 'SET_STATUS_ERROR':\n      return {\n        ...state,\n        statusError: action.error,\n      };\n    case 'UPDATE_USER_PHOTO':\n      return {\n        ...state,\n        profile: { ...state.profile, photos: action.photos } as profileType,\n      };\n    default:\n      return state;\n  }\n};\n export const ActionCreators = {\n  addPost: (post: string) => (\n    { type: 'ADD_POST', post } as const),\n  setUserProfile: (profile: profileType) => (\n    { type: 'SET_USER_PROFILE', profile } as const),\n  setStatus: (status: string) => (\n    { type: 'GET_STATUS', status } as const),\n  updateUserPhoto: (photos: photosType) => (\n    { type: 'UPDATE_USER_PHOTO', photos } as const),\n  setStatusError: (error: string | null) => (\n    { type: 'SET_STATUS_ERROR', error } as const),\n};\n\n\n// Thunks\nexport const getProfile = (userID: number): ThunkType => async (dispatch) => {\n  const response = await profileAPI.getUserProfile(userID);\n  dispatch(ActionCreators.setUserProfile(response));\n};\nexport const getStatus = (userID: number): ThunkType => async (dispatch) => {\n  const response = await profileAPI.getStatus(userID);\n  dispatch(ActionCreators.setStatus(response));\n};\nexport const updateStatus = (status: string): ThunkType => async (dispatch) => {\n  const response = await profileAPI.updateStatus(status);\n  if (response.resultCode === 0) {\n    dispatch(ActionCreators.setStatus(status));\n    dispatch(ActionCreators.setStatusError(null));\n  } else if (response.resultCode === 1) {\n    const error = response.messages[0];\n    dispatch(ActionCreators.setStatusError(error));\n  }\n};\nexport const updateUserInformation = (userData: profileType): ThunkType => async (\n  dispatch, getState) => {\n  const response = await profileAPI.updateUserProfileInformation(userData);\n  const userID = getState().auth.id;\n  if (response.resultCode === 0) {\n    dispatch(getProfile(userID));\n  } else {\n    // @ts-ignore\n    dispatch(stopSubmit('contacts', { _error: response.data.messages[0] }));\n  }\n};\nexport const saveUserPhoto = (photo: any): ThunkType => async (dispatch) => {\n  const response = await profileAPI.savePhoto(photo);\n  if (response.resultCode === 0) {\n    dispatch(ActionCreators.updateUserPhoto(response.photos));\n  }\n};\n\nexport default profileReducer;\n","import React, { useState } from 'react';\nimport s from './ProfileInfo.module.scss';\n\n\nconst ProfileStatus = (props) => {\n  const [ActiveMode, setActiveMode] = useState(false);\n  const [status, setStatus] = useState(props.status);\n\n  const onActiveMode = () => {\n    setActiveMode(true);\n  };\n  const offActiveMode = () => {\n    setActiveMode(false);\n    props.updateStatus(status);\n  };\n  const onStatusChange = (e) => {\n    setStatus(e.currentTarget.value);\n  };\n  return (\n    <div>\n      {props.authID && props.isOwner ? <span className={s.statusFont}>my status: </span>\n        : <span className={s.statusFont}>user status: </span>}\n      {ActiveMode\n        ? <input onChange={onStatusChange} autoFocus onBlur={offActiveMode} value={status} />\n        : <span onDoubleClick={onActiveMode}>{props.status || 'no status'}</span>}\n      {props.statusError !== null && <div className={s.error}>{props.statusError}</div>}\n    </div>\n\n  );\n};\nexport default ProfileStatus;\n","import React from 'react';\nimport s from './ProfileInfo.module.scss';\n\nconst ProfileData = ({ profile, changeEditMode, ...props }) => {\n  const { userID } = props.match.params;\n  const { authID } = props;\n  return (\n    <div className={s.statusFont}>\n      <div className={s.userName}>\n        {profile.fullName}\n      </div>\n      <div>\n        <strong>About me: </strong>\n        {profile.aboutMe}\n      </div>\n      <div>\n        <strong>Looking for a job: </strong>\n        {profile.lookingForAJob ? 'yes' : 'no'}\n        {profile.lookingForAJob ? (\n          <div>\n            <strong>work status:</strong>\n            {' '}\n            {profile.lookingForAJobDescription}\n            {' '}\n          </div>\n        ) : null}\n      </div>\n      <div>\n        <b>Contacts</b>\n        {' '}\n        :\n        {Object.keys(profile.contacts)\n          .map((key) => (\n            <Contact\n              contactKey={key}\n              contactValue={profile.contacts[key]}\n            />\n          ))}\n        {authID && !userID && <button className={s.btn} onClick={changeEditMode}>Edit</button>}\n      </div>\n    </div>\n  );\n};\n\nconst Contact = ({ contactKey, contactValue }) => (\n  <div>\n    {contactKey}\n    {' '}\n    :\n    {' '}\n    {contactValue}\n  </div>\n);\n\nexport default ProfileData;\n","import { Field, reduxForm } from 'redux-form';\nimport React from 'react';\nimport cn from 'classnames';\nimport s from './ProfileInfo.module.scss';\n\nconst ProfileDataForm = ({\n  profile, changeEditMode, error, ...props\n}) => (\n  <form onSubmit={props.handleSubmit}>\n    <div className={s.statusFont}>\n      <div>\n        <strong> Name:</strong>\n        {' '}\n        <Field placeholder=\"your name\" name=\"fullName\" component=\"input\" type=\"text\" />\n      </div>\n      <div>\n        <strong>About me: </strong>\n        <Field placeholder=\"Describe yourself\" name=\"aboutMe\" component=\"textarea\" type=\"text\" />\n      </div>\n      <div>\n        <strong>Looking for a job: </strong>\n        <Field placeholder=\"yes/no\" name=\"lookingForAJob\" component=\"input\" type=\"text\" />\n        <div>\n          <strong>work status:</strong>\n          <Field placeholder=\"your current work status\" name=\"lookingForAJobDescription\" component=\"input\" type=\"text\" />\n        </div>\n      </div>\n      <div>\n        <b>Contacts</b>\n        {' '}\n        :\n        {Object.keys(profile.contacts)\n          .map((key) => (\n            <div key={key}>\n              {' '}\n              {key}\n              {' '}\n              :\n              {' '}\n              <Field name={`contacts.${key}`} component=\"input\" placeholder={key} />\n            </div>\n          ))}\n      </div>\n    </div>\n    <button className={s.btn} type=\"submit\">Save</button>\n    {error && <div>{error}</div>}\n  </form>\n);\nexport const ProfileDataFormContainer = reduxForm({ form: 'contacts' })(ProfileDataForm);\n\nconst MessageForm = (props) => (\n  <form onSubmit={props.handleSubmit}>\n    <div>\n      <Field type=\"text\" component=\"textarea\" name=\"body\" placeholder=\"type your message here\" />\n      <button className={cn(s.btn2, s.btn)} type=\"submit\">Send message</button>\n    </div>\n  </form>\n);\nexport const MessageReduxForm = reduxForm({ form: 'message' })(MessageForm);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport cn from 'classnames';\nimport s from './ProfileInfo.module.scss';\nimport Loader from '../../Loader/Loader';\nimport ProfileStatus from './ProfileStatus';\nimport { updateUserInformation } from '../../../redux/profile-reducer';\nimport userPhoto from '../../../assets/user.png';\nimport ProfileData from './ProfileData';\nimport { MessageReduxForm, ProfileDataFormContainer } from './ProfileDataForms';\n\n\nconst ProfileInfo = (props) => {\n  const [editMode, changeEditMode] = useState(false);\n  const [input, showInput] = useState(false);\n  const [messageInput, showMessageInput] = useState(false);\n  const { userID } = props.match.params;\n  const onSubmitInfo = (formData) => {\n    props.updateUserInformation(formData);\n    changeEditMode(false);\n  };\n  const onSubmitMessage = (formData) => {\n    props.sendMessage(userID, formData);\n    showMessageInput(false);\n  };\n  const onChangeMode = () => {\n    changeEditMode(true);\n  };\n  const offChangeMode = () => {\n    changeEditMode(false);\n  };\n  const onChangePhoto = (e) => {\n    if (e.target.files.length) {\n      props.saveUserPhoto(e.target.files[0]);\n    }\n    showInput(false);\n  };\n  if (!props.profile) {\n    return <Loader />;\n  }\n  return (\n    <div className={cn(s.gridContainer)}>\n      <div className={cn(s.userPhoto)}>\n        <img alt=\"User\" src={props.profile.photos.large || userPhoto} />\n        { props.isOwner && !input && props.isAuth && <div><button className={s.btn} type=\"button\" onClick={showInput}>change photo</button></div>}\n        { props.isOwner && input && <div><input type=\"file\" onChange={onChangePhoto} /></div>}\n        {!props.isOwner && !messageInput && props.isAuth && <div><button className={cn(s.btn2, s.btn)} onClick={showMessageInput}>Send message</button></div>}\n        {!props.isOwner && messageInput && <MessageReduxForm onSubmit={onSubmitMessage} />}\n      </div>\n      <div className={s.status}>\n        <ProfileStatus {...props} status={props.status} updateStatus={props.updateStatus} />\n      </div>\n      <div className={s.userInfo}>\n        {editMode ? (\n          <ProfileDataFormContainer\n            initialValues={props.profile}\n            onSubmit={onSubmitInfo}\n            profile={props.profile}\n            changeEditMode={offChangeMode}\n          />\n        )\n          : <ProfileData {...props} profile={props.profile} changeEditMode={onChangeMode} />}\n      </div>\n    </div>\n  );\n};\n\nexport default connect(null, { updateUserInformation })(ProfileInfo);\n","import React from 'react';\nimport s from './Post.module.css';\nimport userPhoto from '../../../../assets/user.png';\n\n\nconst Post = (props) => (\n  <div>\n    <div className={s.item}>\n      <img src={userPhoto} />\n      <div>{props.message}</div>\n    </div>\n    <span>\n      likes\n      {props.like}\n    </span>\n  </div>\n);\n\nexport default Post;\n","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport s from './MyPosts.module.scss';\n\nconst PostForm = (props) => (\n  <div>\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field placeholder=\"type your post here\" name=\"post\" component=\"textarea\" />\n      </div>\n      <div>\n        <button type=\"submit\" className={s.btn}>Add post</button>\n      </div>\n    </form>\n  </div>\n);\nconst PostFormRedux = reduxForm({ form: 'postForm' })(PostForm);\n\nexport default PostFormRedux;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Post from './Post/Post';\nimport s from './MyPosts.module.scss';\nimport PostFormRedux from './AddPostForm';\n\nconst MyPosts = (props) => {\n  const addUserPost = (value) => {\n    props.ActionCreators.addPost(value.post);\n  };\n  const postsElements = props.posts.map((p) => <Post message={p.message} like={p.likesCount} />);\n  return (\n    <div className={s.postBlock}>\n      {props.isOwner\n        ? <div className={s.myPosts}>My posts</div>\n        : <div className={s.myPosts}>User posts</div>}\n      {props.isOwner && <PostFormRedux onSubmit={addUserPost} />}\n      <div className={s.posts}>\n        {postsElements}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  posts: state.profilePage.posts,\n  newPostText: state.profilePage.newPostText,\n  ActionCreators: state.profilePage.ActionCreators,\n});\n\nexport default connect(mapStateToProps, null)(MyPosts);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport {\n  getProfile, getStatus, saveUserPhoto, updateStatus,\n} from '../../redux/profile-reducer';\nimport { sendMessage } from '../../redux/dialogs-reducer';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\n\nclass ProfileContainer extends React.Component {\n  componentDidMount() {\n    let { userID } = this.props.match.params;\n    if (!userID) {\n      userID = this.props.authID;\n      if (!userID) {\n        this.props.history.push('/login');\n      }\n    }\n    this.props.getProfile(userID);\n    this.props.getStatus(userID);\n  }\n\n  render() {\n    return (\n      <div>\n        <ProfileInfo\n          {...this.props}\n          profile={this.props.profile}\n          status={this.props.status}\n          updateStatus={this.props.updateStatus}\n          sendMessage={this.props.sendMessage}\n          isOwner={!this.props.match.params.userID}\n          isAuth={this.props.isAuth}\n        />\n        <MyPostsContainer isOwner={!this.props.match.params.userID} />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  profile: state.profilePage.profile,\n  status: state.profilePage.status,\n  authID: state.auth.id,\n  isAuth: state.auth.isAuth,\n  statusError: state.profilePage.statusError,\n});\n\nexport default compose(connect(mapStateToProps, {\n  getProfile, getStatus, updateStatus, saveUserPhoto, sendMessage,\n}), withRouter)(ProfileContainer);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport cn from 'classnames';\nimport { logout } from '../../redux/auth-reducer';\nimport s from './Header.module.scss';\nimport vkLogo from '../../assets/vk-1.svg';\nimport userPhoto from './../../assets/user.png'\n\nconst Header = (props) => (\n  <header className={s.header}>\n    <img alt=\"logo\" src={vkLogo} />\n    <div className={s.box}>\n      {props.profile !== null && props.id === props.profile.userId && props.profile.photos.small !== null\n        ? <img alt=\"user\" className={s.userImg} src={props.profile.photos.small} />\n        : <img alt=\"user\" className={s.userImg} src={userPhoto} />}\n    </div>\n    {props.isAuth\n      ? (\n        <div className={s.box}>\n          {props.login}\n          <div>\n            <button type=\"submit\" onClick={props.logout}>Logout</button>\n          </div>\n          {' '}\n        </div>\n      )\n      : <NavLink className={cn(s.box, s.link)} to=\"/login\">Login</NavLink>}\n  </header>\n);\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n  profile: state.profilePage.profile,\n  id: state.auth.id,\n});\nexport default connect(mapStateToProps, { logout })(Header);\n","import React from 'react';\nimport s from './validation.module.scss';\n\nexport const required = (value) => {\n  if (value) return undefined;\n  return 'Required';\n};\n\nexport const maxLengthValidation = (max) => (value) => (value && value.length > max ? `Must be  ${max} characters or less` : undefined);\n\nexport const TextArea = ({ input, meta }) => (\n  <div>\n    <textarea {...input} />\n    {meta.touched && meta.error ? <div>{meta.error}</div> : null}\n  </div>\n);\nexport const authInput = ({ input, meta }) => {\n  const isError = meta.touched && meta.error;\n  return (\n    <div>\n      <input {...input} className={isError && s.errorBorder} />\n      {isError && <div>{meta.error}</div>}\n    </div>\n  );\n};\n","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { authInput, required } from '../Validation/validation';\nimport { logIn } from '../../redux/auth-reducer';\nimport s from '../Validation/validation.module.scss';\n\nconst LoginForm = ({ captchaUrl, ...props }) => (\n  <div>\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field placeholder=\"login\" name=\"login\" component={authInput} validate={[required]} />\n      </div>\n      <div>\n        <Field placeholder=\"password\" name=\"password\" component={authInput} validate={[required]} />\n      </div>\n      {props.error && (\n        <div className={s.errorBorder}>\n          {props.error}\n        </div>\n      )}\n      <div>\n        <Field type=\"checkbox\" name=\"rememberMe\" component=\"input\" />\n        {' '}\n        remember me\n      </div>\n      {captchaUrl != null && <img style={{ height: 100, width: 200 }} src={captchaUrl} />}\n      <div>{captchaUrl != null && <Field type=\"text\" component=\"input\" placeholder=\"captcha text\" name=\"captcha\" validate={[required]} />}</div>\n      <div>\n        <button type=\"submit\">Submit</button>\n      </div>\n    </form>\n\n  </div>\n);\n\nconst AuthForm = reduxForm({ form: 'auth' })(LoginForm);\n\nconst Login = (props) => {\n  const onSubmit = (formData) => {\n    props.logIn(formData.login, formData.password, formData.rememberMe, formData.captcha);\n  };\n  if (props.isAuth) { return <Redirect to=\"./profile\" />; }\n  return (\n    <div>\n      <h1>Login</h1>\n      <AuthForm captchaUrl={props.url} onSubmit={onSubmit} />\n\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  url: state.auth.url,\n});\n\nexport default connect(mapStateToProps, { logIn })(Login);\n","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport cn from 'classnames';\nimport s from './Dialog.module.scss';\nimport {\n  getExactDialog, startChatting, updateViewedStatus, sendMessage,\n} from '../../redux/dialogs-reducer';\nimport Loader from '../Loader/Loader';\nimport { messageType } from '../../redux/reducerTypes';\nimport { appStateType } from '../../redux/redux-store';\n\ntype MapStateToProps = {\n    isFetching: boolean\n    messages: Array<messageType>\n}\ntype MapDispatchToProps = {\n    getExactDialog: (id: number) => void\n    startChatting: () => void\n    sendMessage: (uerId: number, data: any) => void\n    updateViewedStatus: () => void\n}\ntype OwnProps = {\n    match: {\n        isExact: boolean\n        path: string\n        url: string\n        params: {\n            id: number\n        }\n    }\n}\n\n\nclass Dialog extends React.Component<MapStateToProps & MapDispatchToProps & OwnProps> {\n  componentDidMount() {\n    this.props.getExactDialog(this.props.match.params.id);\n  }\n\n  render() {\n    const userID: number = this.props.match.params.id;\n    const addNewMessage = (formData: any) => {\n      this.props.sendMessage(userID, formData);\n    };\n\n    return (\n      <div>\n        <div>\n          {this.props.isFetching ? <Messages messages={this.props.messages} /> : <Loader /> }\n        </div>\n        <div>\n          <DialogFormRedux onSubmit={addNewMessage} />\n        </div>\n      </div>\n    );\n  }\n}\ntype MessagesPropsType = { messages: Array<messageType> }\nconst Messages: React.FC<MessagesPropsType> = (props): any => {\n  const messages = props.messages.map((obj) => (\n    <div className={s.messages}>\n      <div>\n        <NavLink className={s.senderName} to={`/profile/${obj.senderId}`}>{obj.senderName}</NavLink>\n      </div>\n      <div className={cn({ [s.notViewed]: !obj.viewed })}>{obj.body}</div>\n    </div>\n  ));\n  return (\n    messages\n  );\n};\n\nconst DialogForm = (props: any) => (\n  <form onSubmit={props.handleSubmit}>\n    <div>\n      <Field name=\"body\" component=\"textarea\" type=\"text\" />\n    </div>\n    <div>\n      <button type=\"submit\">Send</button>\n    </div>\n  </form>\n);\nconst DialogFormRedux = reduxForm({ form: 'dialog' })(DialogForm);\n\nconst mapStateToProps = (state: appStateType) => ({\n  isFetching: state.dialogsPage.isFetching,\n  messages: state.dialogsPage.messages,\n});\n\nexport default compose<React.ComponentType>(connect(mapStateToProps, {\n  getExactDialog, startChatting, sendMessage, updateViewedStatus,\n}), withRouter)(Dialog);\n","import React from 'react';\nimport './App.css';\nimport { Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Navbar from './components/Navbar/Navbar';\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/LoginPage/Login';\nimport { initializeApp } from './redux/app-reducer';\nimport Loader from './components/Loader/Loader';\nimport { withSuspense } from './HOC/HOC';\nimport Dialog from \"./components/Dialogs/Dialog\";\n\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Loader />;\n    }\n\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n          <Route exact path=\"/\" render={() => <ProfileContainer />} />\n          <Route exact path=\"/profile/:userID\" render={() => <ProfileContainer />} />\n          <Route exact path=\"/profile\" render={() => <ProfileContainer />} />\n          <Route exact path=\"/dialog/:id\" render={() => <Dialog />} />\n          <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n          <Route path=\"/login\" component={Login} />\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n});\n\nexport default connect(mapStateToProps, { initializeApp })(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\n  Action,\n  applyMiddleware, combineReducers, compose, createStore,\n} from 'redux';\nimport thunk, {ThunkAction} from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport profileReducer from './profile-reducer';\nimport dialogsReducer from './dialogs-reducer';\nimport usersReducer from './users-reducer';\nimport authReducer from './auth-reducer';\nimport appReducer from './app-reducer';\n\nconst rootReducer = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  form: formReducer,\n  app: appReducer,\n});\n\ntype rootReducerType = typeof rootReducer\nexport type appStateType = ReturnType<rootReducerType>\n\ntype ActionCreatorsTypes<T> = T extends {[key: string] : infer U } ? U : never\nexport type GlobalActionTypes<T extends {[key: string] : (...arg: any[]) => any }> = ReturnType<ActionCreatorsTypes<T>>\nexport type CommonThunkType<A extends Action, R = Promise<void>> = ThunkAction< R, appStateType, unknown, A >\n\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// @ts-ignore\nexport default createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));","import React, { Profiler } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/redux-store';\n\n\nReactDOM.render(\n\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>, document.getElementById('root'),\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABmJLR0QA/wD/AP+gvaeTAAAgAElEQVR4nO3dZ2Bc1Znw8f+5M6MZ9V4sWaNiGdkqLriBjbABY2oMDiUFAoQUNiyQ7EtI3kCSDQlLSDYk+7K72ewmSwIpBAKEJNi0YIxNccEIF1myLKtbvcyoj2bmnveDChp12ZJG0j2/T5ozd+Y+mtGje+855z4HFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRFEVRlIkJfwdgJBkZGVav17pSFyIHqS9HinQE8UAiEAFoQDjQC3QADqANQSs6RQgK0Cj0uviourqgxX+/iXGoBJlhKSlZq6VguybEZRLWAbZpeFtdwgea4FV0/ZXy8sIDgJyG91WGUQkyA5IyViw2ebx3CsEdQNpAu0lAfKiVxZE2EsKsRAZZiAg0E2ozE2jR0BAEBpjQdYnLo9Pt1ulxe+lwealtd1HndFHb7qK6tQeP7pMPJ0H+0m3xPFVTXNw027/vQqYSZBotWZKT7NXltyV8HrAARAdbyEkMZXlcMBmxwVhM5/6Ruzw6pxq7KKzr4FhtB85u9+BTAvnfSPHD8vKCunPekaISZDpkZKyOdXvd3wF5FxBg1gRr7eFsSA0nLTpoRj9kr4QTte28W+agqL4TKSVAl5Q84eo2PVJff7RzBne/4KkEOUfJadnbNfgVEGvWNC7OiOCSpdGE2cyzHkuN08WuE40cr2kfuCCplHBPZVnB32Y9mAVCJchZSkxcE2Sx9vw/4IsAuYtC2bEynuhgi58jg8qWbp7Lr6PK0dPfIn9nC/DeffLkyXa/BjYPqQQ5C3Z7bqTQ9JcRbLSYhLx5VYJYnxrh77B86BL2nm5h1/FGXF4doEQXfLaqtOCQv2ObT0z+DmC+SUlZvkiYxG4Ea8JsZr6SlyKyF4X4O6wRhIDUqEBWLQ6lrKWbth5PlIDbIyLjXU5Hw/v+jm++UEeQKeg/rdoLrIkPs/KVTclEBvn/lGoiHl3y1+MN7D3VggQkvGbRTLedPn20wd+xzXXqCDIFUbFRTwPbwgMt3LfZPi+SA0ATguXxIdijAimq78TtlRm6lLdGhMd96HQ2lvs7vrlMJcgkpaZmXQfiEYtJcE+enbhQq79DmrLYkADW2sOodPTQ2uUORXBrRGRceHCQ/Z329lr3xO9gPCpBJqalpGd9FsS/AyHXrYhnRWKov2M6azaLiXX2CASCsuYuTcKFJrPnM5ERsRUOR+Mp1JQVH+oaZBxpaTnbdOSPgFUAKVGBfHVLKtMwGD4nVLX28IfDNdQ4XQBIOKVJfq7rvO7x2Mprag53+TlEv1sgX/X0ysjIsLq91p8CdwNEBlm4cnks61LCF0xyDNCl5P0yB28WN9PcOeIs652KsoI8f8Q1Vyywr/vcpaYuS0WYnpOwzqQJrsmOZXNGFGZtYX9UXglHq9s4WttORUv3QLJ0VJQVzN/zyWmwsL/1KVqcvnypSWpvA4uiggO4fX0iqVGB/g5r1tW1ufjhG6UAxRVlBZn+jsefZn/C0By1eEl2hklnD7BoWVwwn78wCZvZmH0Yla39U1Qkx/0bif+pBKFvdBydN4HEzLhgvrgxeVqmpc9Xh6ucfT8IXvFvJP6n+TuAOUBDMz0N2JfEBPElgydHtaOHkw1dIOm0mAL+4u94/M3wCWJPzX4A5NZQq4k7NiQZOjk8uuT3H9T03VMi+GlJSX6jv2PyN0OfYiUvWZ4jdH4ghODW9Ul+uYdjruhx6/xqf9XAmEiZxeT6ib9jmguM+xcBmHTtUQmWvPRIlsUFT+m1/7WvErcuueuiZKym+X8g/p/3qjjd1AXQ5BXadRUlJW3+jmkumP/f7Fmyp2dfJOETVrMmr1weM6XXdvV6KWro5HRTF898ULsg5mb0evT+n8RT1aXHjvk1mDnEsAki4PsAl2VGi2Dr1Lpz69p7B3/Or27jlYL5f6p+4+oE+sZC5X0pKVmr/R3PXGHIBLHbc9ORbLGaNLYsjZry6wtq++5czVqaislk4rWiJp45XIMu5++xJDUqkM0Z0QAWNPGb7OzsAH/HNBcYMkHQ9FsBsXJx6JSvH3QJh6v6Ts+/cfct/PihuwkIsLC/3Ml/7K2ksbN3gneYu67JjiU2xAqwoqOL7/g7nrnAkEPFEZFxvwKirl8ZT3Tw1P5RfnSmjf3lDtLtSdx9+w5SFidwfu55HMgvpLqpjffLHGhCkBodiBDzq8vYpAkWR9o4WOEE2BgenbDL2dpQ6++4/MlwCdI3GVH7frDVxE2rEqb8R/z7QzW09Xj4/KeuIXdZOgCL4qK5dutGqmsbOV1RQ3FDJwcrnJg0QWK4FZMfJzp6JXxQ4eC3h2r4sLqNtfZwtHF+58ggCz1unfKWbg0pVzkdjf87i+HOOYZLkIiIhCsQ3JgZF8wae/iUXnuyoZM3i5sJDwvh+/d/AYv5415ymzWAy/PWkZOZxqmyamqaHJyo62B/uZOuXi+hNjOh1tnrVXd5dA5WOHnqQDUHKpx0uLy0drkxmQQZMUHjvjYtJpD3yhy4vTIpMiI23+FoPDlLYc85hkuQsKjYLwq4YF1KOEsm+EMZ7k8f1tHU6eb2G69iw+qsUbdJToxnx5VbSIqPoaa+mdomB6XN3bxT2srRmnY6XF4AQm3maT+yOLvdHK3p4O8nm3k2v44jZ9rpduskxEXz6e1bOXLiFGXNXaxODiM4YOyv3qwJPF7JqcYuECLW6Wh8eloDnUcMN1AoYCVASuTUprFXOXooaugkKNDGp7ZfNu62JpPg2ss3ce3lm8g/XsyLr7zN3gNHqHH2UOPs6xI2awJ7pI2EMBtxoRZiQgKIDgrAatYItGhYzRomTeCV4HL3JZXLo9Pt6Sto3d5/RGjpclPf5qK2rXdojV4AVmefx46rLubyi9dhNplocbbx4q632Xm8kTs2JI37O+QtieT1oiY8utySkbE61qjTToyXIJIYCYQGTu1Xf6Oor2j6DVdvJixk8kee1TnnsTrnPNxuDwePnGDv/iPkHy+mvLqO0uZuSpu7pxTHeEKDA1mxfCkXrs0mb91KEhN8B0C//NntvPz39zhypo3mzrhxq0AGBZjIiA2iqL7T5NF7twLPTFug84jhEkQKopAQZJn82WV9m4ujNR0EBFj47PWXn9V+LRYzm9auYNPaFQC0d3ZzrLCE0soaqmsbqalvorahiZ6eXrq6e+jq6sGj64QG9/WGBQUFYjJpBNqsBNmsJMRFsygumoTYKBLiokleFE9yYiyaNna3dXRkONsvv4jnd77FnpIWblgZP27M6TFB/QWxxRpUghiEJAoY9xx8uL8XNyOl5NqtG4mJmp4So6HBgWxcm8vGtbnT8n6TdeM1W3h+51scKHdwTXbMuDeFJYX3r/Uj5OgXXAZgxIFCC8Bkxwdbu9wcrmzDrGnc9skrZzKuWbEkJYmspam4PDpHz3SMu21Uf2E8IVk8G7HNRUZMkB4Al2dy00L2lzvxSsnlF68naVHsjAY2W67duhGAD6vHn7Abaus7ukgY/1xsATNwgugTbYcuYX95KwCf2n7pzEY1i7Zt3oDFYqa4voPO/m7n0QSYB/88ptYfvoAYMUEcAG7v2H8YA07UdeDo9pC1NJXszPQZD2y2hIcGs2ZFJl4Jx2rHPs0yf3zBPx0Lj85LRkyQOgBn98QJ8n5Z39Hjk1dvmdGA/GHjmr7OgaL6sRNEfHyni2fmI5qbDJcgAlEL0DTBrFtHt4cTdX1du5dtWjMrsc2mTWtzgL7pM94xLseGXKc5ZiWoOchwCSLRTwE0dYyfIPnVTnQJeetWEhK88IrH2ZMSWJwQS1evl4qW0Qcrh1ynOWctsDnGcOMgEq1QIKmfIEEGukC3bV436vOFJRWUlp/hdOUZSsrP0NTipKunh46OLrq6XXi8XkKDAzGZTMRGRxAfE0lSQiwZaclkpiezNM2OaZIVVLxeSXFZJcWlVZSUVXGmrpG6xlaaWhx4vV7aO7sxm0wEBVoJCQkiyGYjJiqcjNQkltiTSE9NYnlGyoj3XX9+FtW73qa0qYv06JH/BJw9g2dWhj2CGC5BdCGOmKSkrGnsKR4dLi/lLV2YzWYuOD971G1+/exO3nrvw3H31dbRVxy91dlOcWmVz3OhwYFcseUCvnn3LeO+x49+/nte3bOfjs7xp6S4PR6c7R6c7X2rPp8qq+L9w32FES/ZeD4/fujuEa9ZlbWUF3e9TeUYR5CW/tNQAfXj7nwBM1yCVJceK0hJy3a2uzzhjZ29xI5yw1RRQwe6hDXZSwkKHL0D5x8+dz17D+Tj7T+Bt1kDiIwII8hmJTDQhkkT9Pa6aevsoqGpFbfb9zq3o6uHvPUrJow3b/0KXti1Z0S7xWImLiaSsOAgAgIseHVJd3cPXT0uWh1t9Lj6/rhNJsE/fO76Ud97xbIlAFS0jp4gjf1HWQmGLeJguAQBdGAfcO2phk5i00YmyOn+o8vG/gvZ0aTbE/n+/V/CZrOSkZI0YmLgcPVNLRSXVlN4qoz3DheQmZ48qWkmG9fmsuPKizlZWsXGNdlknZfG0rTFxMeMfy99TV0TpyqqcfX0km5PHHWbpEWxREeG09zqxNHtIWLYBM6BGr0SeWTCQBcoIyYIQvKCFFz70Zl2NqZFjni+tK8+FCuXLx33fbZtXj/pfcbHRBEfE0Xe+hV8+ZbrphTvt+753JS2B0hMiJkwaQFyl6ez5718Klq7iQj0Xelg4OLdLHTDJojherEAdF37C9Bb0tA5YiS5261T3+bCbDJxXnqyfwKcRUtT+37H4T1ZNW0u2vou0utKS4tKZj+yucGQCVJZeawVKf7ulXCw0reDprbNhQQy0hZjtc6PVWzPxZLUvtOv4QkyUNoI+Bt9p6WGZMgEAdCEfBbg7RIH+pCBsrq2vvX6Bv6zLnRL7H0TdQfWKYS+VTwPlA8MfYjA+PgVU6vLuoAY8hokLS17pRceEUBrVy+Hq5ys6y/gUNfe94eSmBA95fft6OzmP596kd3vHsbtdrM1bx333nkToTM00Dgd+1ucFIfFYqar10OHy0uI1URxfSeNHb1oQui6lLfagrx5yUuWX1t1utBwC+oY7giSnJGzRIc9AgYPEX873oC7v7vW0b+Q5VSntrs9Hr76z//G8zvfosXRRntnN39+dS/3PPQ4bs/0T2Warv2ZNY3UxYsAqO//57CvtG8Omi7lwN9HiqZr+9LSlo8cbVzgDFfVJCo85hcgfCZXuTw6Xl2SGR/MvtJWWrvc3LJjGwmxky9LWnmmnsvz1nHrDVdQXl1HVU0DAI0tDsJDQwZraE2X6dzfkYISSsqrSY0OxKRpvHS0HiHE8KLcNilFvNPR+MJ0/h5zneGOIBKxZejjyzatRdMEu0+1UNzYSVtPX69WZMTUFndNS15EYkIM8TGRPHivb7fsq3v2n1vQM7y/9JS+C/WGdjcvHa1Hl7D9ijxu/sSwe2AEl5xT0POQ4RIECBn64Hv338knr9qClLK/amLfKZYtwDqlN21oGnu6UlnV9FfvnM792ZP6bhg8WOngZEMnwUGB3H3bDv7xjhuGb2q4JaGNmCA+9Z1aHW380xdvJmfZEhzdnsEZrEGBU0uQH//i99Q3tVDf1MK/PDHzddamc3+J8X0DigNjQvfdeSOR4aG0OEbckmu42ljG68WSnEEweLFZVlXLovgYfvzgV7jr//4rVTV98/JstqkVtW5obOHa278x6nPpyYvOIeCZ39+i+I9H3C/esJIdV14MQEX1iCNR9ZTeeAEw3BFECN+1v0vKzwAQGx3BL3/8DbIz01mzIhOzaWr9F1decsGYz10xznNnazr3Fx4azLoVy8ldns4PHvjSYEHvkrIzPttJIQ3XzWu4I4iEo0MfFxSXDf4cHRnOb3764Fm9703XXMLrew5QcKrcpz37vDRuvGbLWb3nbO7v5z+8f0Tb8eJSn8earhluTpbhunnDouKlgC8PPG5xtnPrJ7ed81oeJpPGZXnraO/o4kxdI9YAC9dctpGH7/8CgbapXc/Mhf3pus6//uIZXK6PbyyTJu17RlsvZH6t8DItbjKlpJ1oAgZLJD7zH98jI82wtdFGdaqsis/e8/DQJkdFWVYM/GniahcLiOGuQfq/4HeGtnxwzLDLX4zpgyO+n4mEt42WHGDIBAEEbw19ePhYkb8imbMOH/dNEE2yxz+R+JchE0To7B76OP9Y8eCts0pfkYiPjhcPb97jh1D8zpAJUl5ecBRoHnjsbO/k+MnTfoxobjl+8vRg8Yd+zf2fmeEYMkEAHclrQxv2vJ/vr1jmnBGfRd9nZcibpoyaIAjEX4c+3v3eYX+FMue89b5vOSMp5Et+CsXvDJsgZnPPK8BgJ39NXRP5BSPOuw0n/3gxZ2p9ply5Aky9r421/UJn2AQpKSlpA3yOIk//6VU/RTN3PDXsMxCIv/Z/VoZkuJH0ocKj4moF3DnwuLKmHpAsTbdjDVj4BRuGauvo4tfP7uQvr+/zaZcadzlbG6vGeNmCZ8CRdF8pqdnvItg4vD0+OpIH77tt1tcQnG3vHDrKD//j6bHuL3m3oqzgotmOaS4x7CnWAGmWXwZGLJJR39zKo//+Wz9ENLse+/ffjpUcHdL78Zw1ozJ8glSWnCiQQl4PtAx/rr5pRNOCU9/cOlpzMxrXVVYWnJjteOYawycIQGXpiTd1jydXCH7k71j8TUrxQ3Q9t+J0we6Jt174DH8NMlxKWrbPnJNDO3/lr1BmxbprvujzuKKsQP1NDKGOIIoyDpUgfnLn1x/ljq89QlPL2NVJGpsd3P61R/jyN348i5EpQxnultu5wu32UlRSwaf/8Xt86hOXcvGGVSQmxCKlpKaukb0HPuK5l9/C2dZB1tJUf4drWOp8c5jZugZxtnXw8M+eZN/B8SfJXrxhJd/9pzsJD52Z+tHqGmR86gjiJ+FhIfz0n+/jeNFpnt+1h/yCUzS39lVUj4mKYFX2Um66egvZmdNbslSZGpUgIzUCg5WrG5ocxMVEjLP5uclZtoSc/rUCZ9so4zzto21nZOoifSSfwbFDRwr9FceMO5Q/4ncz/MDgcCpBhhFC+kzt/t2fX0PKhXc7rpSS3/359WFt/NlP4cxZKkGGEVJ7kiH3iZSUVfPG3kN+jGhmvPr2AU5X+FROdFlMpl/7K565SiXIMGVlx+slPDO07fH/+SNtHV2Tev1n73mYbz76X1RU189IfKMpr6rjm4/+F7fc+/DEG9N3D/7P/udZ30Yp/nD69NGGGQhvXjP0/SBjCQuNOig07S4gAKC7x0VTi4NLNp4/4WtdvW6e3/kWz/1tN4WnyoiKDCMpYWqrVU3WoSOFPP7fz/DTXz5LdV0jt+64YlIL5/zLE09x/KRPWdF2pL7D6WwaMavZ6FSCjKKtrbk9MipOAlsH2k6VVRMfG8WyJfZxX5u7bAnbNq+nrb2TPe9/yMt/f4/X9x6gubWN4KBAoiLC0bSzG2rweiVFpyt4fudb/Ojnv+MPf36DmtpGrrxkA4/+37vYtG7ie1defOVtfvPcrmGt4jsV5ScMe1vteNSg0BjWrFljaW7peVfCuoE2q9XCkz95cNLrp1fW1PPkszt5Y+8henv7FuYJCQ5kVdZSzktPJmVxAilJ8USEhRISHEhQkA2Arq4eOjq7cbS1U15dT+WZOk6eruKjE6fo7OpbrjkgwMK2zev5/M1XY0+Mn1Q8RSUVfOGBxwZj6XcgJsqWd/jwYfdYrzMylSDjsNtz04VJzwfCBtpioyN48iffIiFu8qvgtnd288beg7z1/od8dPwUPUMKQk+FzRrA6pzzuGTj+WzNWzel1Wzrm1r5wv0/HD720eEV+vnVpYWnziogA1AJMoHU9OzPSMkfhral25P45b9+k7CQoCm/X2+vm6OFpzlZWklZZQ1lVbW0Otrp6Oqmo//oEBIUSEhQIFGRYaQlLyI1eRGZ6XZWZmVgsUx9bNfZ3smXHnhsxNJsQvKZ8vKCP075DQ1EJcgk2FNzHhVCfmto24rlS3ji+18jOGhm1kCfLh2d3dz73X/jeNGIypH/UlFW8G1/xDSfqIv0SXA6GnZHRMZnACsG2uqbWjmQf4JLL1qLzTq15dpmS3tnN/d+52cU+PZYIZDPVZSd+Ec/hTWvqASZpMiIoF2IgDwgdaCtqcXJB0eKuHTj+XMuSZxtHdzz7Z9yYtgKVMAei6n3hpaWFo8fwpp3VIJMksPh8AQH2Z8zWTwbgbSB9sYWB7vfPcwF5+cQER4yzjvMnqraBu5+6CeD6y8O8W5XENdUnzzZ7Y+45iOVIFPQ3l7rDg60/8lk9mxiyJGkraOL1/bsJyszlaT4mRkUnKyPTpzinod+Rn3jiJm679oCPFdVFhaqwcApUAkyRe3tte6ApLgXzG7WCMgYaHf1unltz0Fs1gByMtPPec3DqdJ1nd++8Brfe/xJunp6hj/9alcQ16nkmDqVIGehq7Gx1+nY8kxERGMs4uOBRF1KDuSf4EhBCetWZRHcP/A301ocbXzrsf/mhV170IfPPJbyyZjowFtKjhwZkTXKxFQ37zlKSct5EOQjDPssTSYT127dyEP33jZjRxMpJY888TQ733wPr3fE8oG6EDxUXlrw2Izs3CDUEeQcOR0N+yIj4g4guAIYvHFcSsnJ05W8d+gYS1IWEx8bOa37LSyp4FuP/YK9+z8a7X6VBg1xQ3lZwVPTulMDUkeQabJ48cokzeL9g0BePPw5TdO4cssGbtmxbdLzuMZy8nQlv3/xdV7bexBdH7nok0TslR73Z6qqTtac044UQCXI9NqyxZxS0egz6e+Om6/mDy+9MThB8Pzc8/j09q1sWptLwCSXWOjtdfPOoaP88a9vkt+/uGZAgIVbrr+cXw+bmVuREmthzx41xjFNVIJMs9HKBtU1NPPHv77JX17fR0dn3xCEzRrA+bmZXLA6m2UZdqIiwgeLQ9Q3ttLqbKOwpIL9HxaQf7x4cIJjaHAg27fl8entl5EQF63K9sww9WFOs/HqanX1uHhl9/u89No+ikurRj1FGo2maWSmJ3PdFXlcdemFBNmsg8+pBJlZquzPLAqyWbnh6i3ccPUWHM4ODnx0goP5BZwuP8OZhiY6O/t6YkOCA0mMjyEjNYn1q7JYvyprzozSG41KED+JCA/his3ruWLzen+HooxDFW2YRsnJOX6oAOd7RmW356pSjNNIJcg0yc7ODtHM8uWhbTardazNp43N6tsTJjT95RUrVsxMIV8DUglyjtLSsm5OScv5oKMLB7Bs6HNrcs+b8f2vzhm2D8FyZ7vuTEnL+SA1dfmnZzyABU71eJyF1NTsVbrgYQGXA/23FEqGfpwmk4ldT/+EqIjQGY2l2dHONbd9fbSpJgAIpAu0vUjXd8rLTx2Y0WAWIJUgk5SUtD7abO38voSbhZQx4310Jg0e/+evsmmWlpDed/AIX//Bf07QbSyRQjQJ+JO7x/bdmprDTbMS3Dyn5mKNz5yamn1fWGTc05rJ/ZiA9QKCJvq/IhF8WFHPkdpWeoRGfHgwtrMotjCeDpebKq/GcWyUx6UQtzGPpuJiulvHWrFK0Bc76zSz54HwqLhbI8PjzA5H4wfA5AZkDEgdQUaRmrriSim835awQUzQFS4Aa1gY9k2biMnMpPrQAc4c+gDv0NpTQhAeH09iegqJifEkxkaSFBNJclw0EYEWQmwBWM0WIoOtaJqGo8uFW9cxWwPwmAPo1AWHC4o5cOgY1VVnqKusor2hidBFCVz7xL/5xNPb0cWxZ5+l8t33cbU5majstgSPgANCmh4pLz/66ll+ZAuWSpB+aWmrU7y4HtEQ2+WQOlhjMVksxGVns+pztxCR4ltt0ePqpfHECWqPHKWxsBBHRSW6Z+rTo8KTF3P1zx4H4IU77qS3o3PwOc1iIXnDejZ+7b4xX99RV8/R556j5tBh3N2TuMtW4NJ1dlvNAV8vKclXSyFg+AS5KcC+5PjXhG66F+TiibYWmkaEPZll2z9B6sV5k96L9HpxVFbhqKigo6GB7uYWOpub6WlpweNy4elxoXs9uLu6kbqOJTAIYRLEZWeR98DXAag6cBBnRSVhyYuJsNsJWZSApk2+E/LMocOcfHknDUVFyDEu6IdEDFJrAe9TIcHadwsKCgx7J6IhEyT5vOx1Wq94AuR6xARd3QKCY+LI2HoJy667Hs08v3vGdY9O4UsvcfrN3XQ2NTKJczAdxAGpi3srK48dnpUg5xBDJcjixbmbTWb9KQQpE20bEBxM8ob15H7mZgIjo2YjvFnX3dLM0Wefo2r/Qdydk1jeQVKue7Xbq6qO7Z356OYGQyRIYuKamACr63mJ3DzedprZRGzmMnJuvpG47KzZCm9OaD5dyokX/kzNR/novePXsRbII4E2eVVhYWHtuBsuAAs+QewZObdqXvmkhFHvThJCEJ6cTOa1V5F+6aWzHd6cVPrmbop27qKtqnq85efcQnpvLy8vemasDRaCBZ0gqWlZz0rEzaM9pwVYSM3bxOrbbicgeOpFqI2gt6OL/KefpmLfO3jdox9VNOTvy8pO3DrLoc2aBZsgKak57yHkhcPbhcnE0m1bWX37bWhmNdt/MnSPhw9/8xQlb7w5ag+YgH3lZQUj7sVfCBZkgqSmZX0kESuHt0ekpLDluw8SGD5z654vZN1OB2//4FFayytGPinFhxXlx9fMflQza8FNNUlOzd4lhLjIt1WQdf11XPTA/8Fim51ibguRxWYjY9vl6B4PjUVFvk8KFkVGxq5xOBoX1DXJgkqQ1NTcx4SQd/g0Crjg7n9g2XXb/RPUApSQm0uE3U7V/gPgcxEvMsOj4jRna+Mef8U23RZMgtjtuWvQ9KcYetooYMNX7lK9UzMgfPFiYpYupXzfOz7tQpIXFRn/ksPRMHvrYM+g+T0sPIQwy1cYdk215gt3qtttnkkAAAIpSURBVOSYQQmrVnLB3V/xbRRoEvm6fyKafgviCJKamvUocMXQtoSVK1j7hc/7KSLjiExLpbW0jPYanzHDkPCoeOFsbdjjn6imzwLoxbopICWtsB3k4BJPluAgPvm/v0IzL4j8n/t0nRe/eBeutrahrb0VZVmh8KezW9J3jpj3p1gpS048PjQ5AC689x6VHLNJ08j7xv3DWwNSUo/P+8ry8z5B8OJzHhWWuIiktQuuO37Oi122jIgU3zmgUmhf9lM402ZeJ0ha2rJtiI+XHBDABffd48eIjO3Cr/p+9gKCE9OWX+6ncKbFvE4QifnBoY+tkZFEZ2SMtbkywyLsdoKio33aLFL71hibzwvzPEF851qlX7rFL3EoH8vYeplvg2CTfyKZHvM2QZKWZF8CDF6cCwHZO673Y0QKQOaO64b3jQYkJ+fO24mM8zZBTNJ3Grs1LByzmmfld2azGVuE73JzWoB+k5/COWfzNkE0ic/pVdQSP9SNVkYVk+H7XQhdTr7CxRwzbxNEIn36FOOWZ/orFGWYmGHfhURMWANgrpq3I+n29By3kFLd8TQPSIGnsrRgcgsyzjHz9giikmP+EHL+LtQ0bxMEyUTVz5Q5Qs7j72o+J8jDKknmPinxCsn3/B2HoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKMpP+P8N5JRM5M9pWAAAAAElFTkSuQmCC\"","import React from 'react';\nimport s from './Loader.module.css';\n\nconst Loader = () => (\n  <div className={s.ldsRing}>\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n);\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__36F62\",\"box\":\"Header_box__379Ah\",\"link\":\"Header_link__cQOlN\",\"userImg\":\"Header_userImg__-x5iX\"};","import { stopSubmit } from 'redux-form';\nimport { authAPI } from '../API/API';\nimport { CommonThunkType, GlobalActionTypes} from './redux-store';\n\n\nconst initialState = {\n  id: null as any,\n  login: null as string | null,\n  email: null as string | null,\n  isAuth: false as boolean | null,\n  url: null as string | null,\n};\ntype initialStateType = typeof initialState\ntype ActionTypes = GlobalActionTypes<typeof ActionCreators>\ntype ThunkType = CommonThunkType<ActionTypes>\n\nconst authReducer = (state = initialState, action: ActionTypes): initialStateType => {\n  switch (action.type) {\n    case 'SET_USER_DATA':\n      return {\n        ...state,\n        ...action.data,\n      };\n    case 'GET_CAPTCHA_URL':\n      return {\n        ...state,\n        url: action.url,\n      };\n\n    default:\n      return state;\n  }\n};\n\n// Action Creators\nexport const ActionCreators = {\n  setAuthUserData: (\n    id: number | null, login: string | null, email: string | null, isAuth: boolean,\n  ) => ({\n    type: 'SET_USER_DATA',\n    data: {\n      id, login, email, isAuth,\n    },\n  } as const),\n  putCaptchaUrl: (url: string) => ({ type: 'GET_CAPTCHA_URL', url } as const),\n\n};\n// Thunks\nexport const signIn = (): ThunkType => async (dispatch) => {\n  const response = await authAPI.authMe();\n  if (response.resultCode === 0) {\n    const { id, login, email } = response.data;\n    dispatch(ActionCreators.setAuthUserData(id, login, email, true));\n  }\n};\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\n  const response = await authAPI.getCaptcha();\n  dispatch(ActionCreators.putCaptchaUrl(response.url));\n};\nexport const logIn = (email: string, password: string, rememberMe: boolean, captcha: string | null):\n    ThunkType => async (dispatch) => {\n  const response = await authAPI.login(email, password, rememberMe, captcha);\n  if (response.resultCode === 0) {\n    dispatch(signIn());\n  } else {\n    if (response.resultCode === 10) {\n      dispatch(getCaptchaUrl());\n    }\n    const errorMessage = response.messages.length > 0 ? response.messages[0] : 'Some error';\n    // @ts-ignore\n    dispatch(stopSubmit('auth', { _error: errorMessage }));\n  }\n};\nexport const logout = (): ThunkType => async (dispatch) => {\n  const response = await authAPI.logout();\n  if (response.resultCode === 0) {\n    dispatch(ActionCreators.setAuthUserData(null, null, null, false));\n  }\n};\n\nexport default authReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__TeYZT\",\"posts\":\"MyPosts_posts__-yk0M\",\"btn\":\"MyPosts_btn__o7IJB\",\"myPosts\":\"MyPosts_myPosts__1lzA1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__2oBoH\",\"userPhoto\":\"DialogItem_userPhoto__1KjJH\",\"userName\":\"DialogItem_userName__3_hXR\",\"newMessage\":\"DialogItem_newMessage__3lORW\",\"lastActivity\":\"DialogItem_lastActivity__YfCbB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBorder\":\"validation_errorBorder__24bXb\"};","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initializeApp = exports.initializeUser = void 0;\r\nvar auth_reducer_1 = require(\"./auth-reducer\");\r\nvar INITIALIZE_USER = ' INITIALIZE_USER';\r\nvar initialState = {\r\n    initialized: false,\r\n};\r\nvar appReducer = function (state, action) {\r\n    if (state === void 0) { state = initialState; }\r\n    switch (action.type) {\r\n        case INITIALIZE_USER:\r\n            return __assign(__assign({}, state), { initialized: true });\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexports.initializeUser = function () { return ({ type: INITIALIZE_USER }); };\r\nexports.initializeApp = function () { return function (dispatch) { return __awaiter(void 0, void 0, void 0, function () {\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, dispatch(auth_reducer_1.signIn())];\r\n            case 1:\r\n                _a.sent();\r\n                return [4 /*yield*/, dispatch(exports.initializeUser())];\r\n            case 2:\r\n                _a.sent();\r\n                return [2 /*return*/];\r\n        }\r\n    });\r\n}); }; };\r\nexports.default = appReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Dialog_messages__yHAkH\",\"senderName\":\"Dialog_senderName__3Cebg\",\"notViewed\":\"Dialog_notViewed__2HfF1\"};"],"sourceRoot":""}