(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return c}));var a=n(134),r=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"5695b80a-0241-44c0-8ae2-e291419df2a1"}}),o={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getUsersForSearch:function(e){return r.get("users?term=".concat(e)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},s={authMe:function(){return r.get("auth/me").then((function(e){return e.data}))},login:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},logout:function(){return r.delete("auth/login").then((function(e){return e.data}))},getCaptcha:function(){return r.get("security/get-captcha-url").then((function(e){return e.data}))}},u={getUserProfile:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return r.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateStatus:function(e){return r.put("profile/status",{status:e}).then((function(e){return e.data}))},updateUserProfileInformation:function(e){return r.put("profile",e).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}},c={sendMessage:function(e,t){return r.post("dialogs/".concat(e,"/messages"),t).then((function(e){return e.data}))},getDialogs:function(){return r.get("dialogs")},geExactDialog:function(e){return r.get("dialogs/".concat(e,"/messages"))},startChatting:function(e){return r.put("dialogs/".concat(e))},viewedMessage:function(e){return r.get("dialogs/messages/".concat(e,"/viewed"))}}},128:function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return y}));var a=n(4),r=n.n(a),o=n(10),s=n(27),u=n(9),c=n(11),i={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},l=function(e){return{type:"FOLLOW",userID:e}},p=function(e){return{type:"UNFOLLOW",userID:e}},m=function(e){return{type:"SET_USERS",users:e}},f=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},d=function(e){return{type:"SET_TOTAL_USERS_COUNT",count:e}},g=function(e){return{type:"IS_TOGGLE_FETCHING",isFetching:e}},E=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userID:t}},h=function(e){return{type:"FILTER_USERS",users:e}},b=function(e,t){return function(){var n=Object(o.a)(r.a.mark((function n(a){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(g(!0)),n.next=3,c.d.getUsers(e,t);case 3:o=n.sent,a(g(!1)),a(m(o.items)),a(d(o.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(o.a)(r.a.mark((function n(a){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(f(e)),a(g(!0)),n.next=5,c.d.getUsers(e,t);case 5:o=n.sent,a(g(!1)),a(m(o.items)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),alert(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(E(!0,e)),t.next=3,c.d.follow(e);case 3:0===t.sent.data.resultCode&&n(l(e)),n(E(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(E(!0,e)),t.next=3,c.d.unfollow(e);case 3:0===t.sent.data.resultCode&&n(p(e)),n(E(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.d.getUsersForSearch(e);case 2:a=t.sent,n(h(a.items));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(u.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(u.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(u.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(u.a)({},e,{followed:!1}):e}))});case"SET_USERS":return Object(u.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(u.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(u.a)({},e,{totalUsersCount:t.count});case"IS_TOGGLE_FETCHING":return Object(u.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(u.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(s.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!==t.userID}))});case"FILTER_USERS":return Object(u.a)({},e,{users:t.users});default:return e}}},13:function(e,t,n){e.exports={gridContainer:"ProfileInfo_gridContainer__3nIEI",userPhoto:"ProfileInfo_userPhoto__3hr9N",btn:"ProfileInfo_btn__2O9wf",status:"ProfileInfo_status__yxkc8",userInfo:"ProfileInfo_userInfo__3K03N",userName:"ProfileInfo_userName__1Zp3B",error:"ProfileInfo_error__Dc3f6",statusFont:"ProfileInfo_statusFont__24bVy",btn2:"ProfileInfo_btn2__3GweH"}},135:function(e,t,n){e.exports={ldsRing:"Loader_ldsRing__nkn_4"}},137:function(e,t,n){e.exports={item:"Post_item__21NoF"}},138:function(e,t,n){e.exports=n.p+"static/media/vk-1.258a9e69.svg"},165:function(e,t,n){e.exports=n(291)},170:function(e,t,n){},174:function(e,t,n){},28:function(e,t,n){e.exports={nav:"Navbar_nav__3t595",item:"Navbar_item__3wlWD",active:"Navbar_active__fr_zt"}},291:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(70),s=n.n(o),u=(n(170),n(12)),c=n(14),i=n(31),l=n(32),p=n(36),m=n(33),f=n(37),d=(n(174),n(40)),g=n(28),E=n.n(g),h=function(){return r.a.createElement("nav",{className:E.a.nav},r.a.createElement("div",{className:E.a.item},r.a.createElement(c.b,{to:"/profile",activeClassName:E.a.active},"Profile")),r.a.createElement("div",{className:"".concat(E.a.item," ").concat(E.a.active)},r.a.createElement(c.b,{to:"/dialogs",activeClassName:E.a.active},"Messages")),r.a.createElement("div",{className:E.a.item},r.a.createElement(c.b,{to:"/users",activeClassName:E.a.active},"Users")))},b=n(8),v=n(26),O=n(4),j=n.n(O),y=n(10),x=n(27),S=n(9),w=n(21),A=n(11),P={dialogs:[],messages:[],isFetching:!1},k=function(e){return{type:"GET_DIALOGS",dialogs:e}},I=function(e){return{type:"UPLOAD_DIALOG",messages:e}},N=function(e){return{type:"IS_FETCHING",boolean:e}},F=function(e){return{type:"SEND_MESSAGE",message:e}},C=function(e){return function(){var t=Object(y.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.b.startChatting(e);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(e,t){return function(){var n=Object(y.a)(j.a.mark((function n(a){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.b.sendMessage(e,t);case 2:0===(r=n.sent).resultCode&&(a(F(r.data.message)),a(Object(w.a)("dialog")),a(C(e)));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DIALOGS":return Object(S.a)({},e,{dialogs:[].concat(Object(x.a)(e.dialogs),Object(x.a)(t.dialogs))});case"UPLOAD_DIALOG":return Object(S.a)({},e,{messages:Object(x.a)(t.messages)});case"IS_FETCHING":return Object(S.a)({},e,{isFetching:t.boolean});case"SEND_MESSAGE":return Object(S.a)({},e,{messages:[].concat(Object(x.a)(e.messages),[t.message])});default:return e}},z=n(53),T=n.n(z),Z=n(34),L=n.n(Z),W=function(e){var t=e.wasOnline.split("T"),n=t[1].slice(0,5);return r.a.createElement("div",{className:T.a.dialog},r.a.createElement(c.b,{className:T.a.userPhoto,to:"/profile/".concat(e.id)},r.a.createElement("img",{alt:"user",src:e.photo||L.a})),r.a.createElement(c.b,{className:T.a.userName,to:"/dialog/".concat(e.id)},e.name),0===e.newMessagesCount?null:r.a.createElement("div",{className:T.a.newMessage},"You have",e.newMessagesCount," ","new messages"),r.a.createElement("div",{className:T.a.lastActivity},"Last activity:"," ",t[0]," ","at"," ",n))},G=n(35),V=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){0===this.props.dialogs.length&&this.props.getDialogs()}},{key:"render",value:function(){var e=this.props.dialogs.map((function(e){return r.a.createElement(W,{newMessagesCount:e.newMessagesCount,wasOnline:e.lastUserActivityDate,photo:e.photos.small,name:e.userName,id:e.id})}));return r.a.createElement("div",null,this.props.isFetching?e:r.a.createElement(G.a,null))}}]),t}(r.a.Component),H=Object(b.d)(Object(u.b)((function(e){return{isFetching:e.dialogsPage.isFetching,dialogs:e.dialogsPage.dialogs,isAuth:e.auth.isAuth}}),{getDialogs:function(){return function(){var e=Object(y.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.b.getDialogs();case 2:n=e.sent,t(N(!0)),t(k(n.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),(function(e){return function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(d.a,{to:"/login"})}}))(V),Q={posts:[{id:1,message:"how are you?",likesCount:12},{id:2,message:"Its my first post",likesCount:15},{id:3,message:"How are you?",likesCount:10},{id:4,message:"Whats`s new?",likesCount:11},{id:5,message:"Whats up?",likesCount:17},{id:6,message:"Good morning",likesCount:16}],profile:null,status:"",statusError:null},J=function(e){return{type:"SET_USER_PROFILE",profile:e}},X=function(e){return{type:"GET_STATUS",status:e}},M=function(e){return{type:"UPDATE_USER_PHOTO",photos:e}},U=function(e){return{type:"SET_STATUS_ERROR",error:e}},K=function(e){return function(){var t=Object(y.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.c.getUserProfile(e);case 2:a=t.sent,n(J(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return Object(S.a)({},e,{posts:[].concat(Object(x.a)(e.posts),[{id:5,message:t.post,likesCount:0}])});case"SET_USER_PROFILE":return Object(S.a)({},e,{profile:t.profile});case"GET_STATUS":return Object(S.a)({},e,{status:t.status});case"SET_STATUS_ERROR":return Object(S.a)({},e,{statusError:t.error});case"UPDATE_USER_PHOTO":return Object(S.a)({},e,{profile:Object(S.a)({},e.profile,{photos:t.photos})});default:return e}},_=n(24),Y=n.n(_),q=n(13),$=n.n(q),ee=function(e){var t=Object(a.useState)(!1),n=Object(v.a)(t,2),o=n[0],s=n[1],u=Object(a.useState)(e.status),c=Object(v.a)(u,2),i=c[0],l=c[1];return r.a.createElement("div",null,e.authID&&e.isOwner?r.a.createElement("span",{className:$.a.statusFont},"my status: "):r.a.createElement("span",{className:$.a.statusFont},"user status: "),o?r.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(i)},value:i}):r.a.createElement("span",{onDoubleClick:function(){s(!0)}},e.status||"no status"),null!==e.statusError&&r.a.createElement("div",{className:$.a.error},e.statusError))},te=n(49),ne=function(e){var t=e.contactKey,n=e.contactValue;return r.a.createElement("div",null,t," ",":"," ",n)},ae=function(e){var t=e.profile,n=e.changeEditMode,a=Object(te.a)(e,["profile","changeEditMode"]),o=a.match.params.userID,s=a.authID;return r.a.createElement("div",{className:$.a.statusFont},r.a.createElement("div",{className:$.a.userName},t.fullName),r.a.createElement("div",null,r.a.createElement("strong",null,"About me: "),t.aboutMe),r.a.createElement("div",null,r.a.createElement("strong",null,"Looking for a job: "),t.lookingForAJob?"yes":"no",t.lookingForAJob?r.a.createElement("div",null,r.a.createElement("strong",null,"work status:")," ",t.lookingForAJobDescription," "):null),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts")," ",":",Object.keys(t.contacts).map((function(e){return r.a.createElement(ne,{contactKey:e,contactValue:t.contacts[e]})})),s&&!o&&r.a.createElement("button",{className:$.a.btn,onClick:n},"Edit")))},re=n(129),oe=n(130),se=Object(oe.a)({form:"contacts"})((function(e){var t=e.profile,n=(e.changeEditMode,e.error),a=Object(te.a)(e,["profile","changeEditMode","error"]);return r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement("div",{className:$.a.statusFont},r.a.createElement("div",null,r.a.createElement("strong",null," Name:")," ",r.a.createElement(re.a,{placeholder:"your name",name:"fullName",component:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement("strong",null,"About me: "),r.a.createElement(re.a,{placeholder:"Describe yourself",name:"aboutMe",component:"textarea",type:"text"})),r.a.createElement("div",null,r.a.createElement("strong",null,"Looking for a job: "),r.a.createElement(re.a,{placeholder:"yes/no",name:"lookingForAJob",component:"input",type:"text"}),r.a.createElement("div",null,r.a.createElement("strong",null,"work status:"),r.a.createElement(re.a,{placeholder:"your current work status",name:"lookingForAJobDescription",component:"input",type:"text"}))),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts")," ",":",Object.keys(t.contacts).map((function(e){return r.a.createElement("div",{key:e}," ",e," ",":"," ",r.a.createElement(re.a,{name:"contacts.".concat(e),component:"input",placeholder:e}))})))),r.a.createElement("button",{className:$.a.btn,type:"submit"},"Save"),n&&r.a.createElement("div",null,n))})),ue=Object(oe.a)({form:"message"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(re.a,{type:"text",component:"textarea",name:"body",placeholder:"type your message here"}),r.a.createElement("button",{className:Y()($.a.btn2,$.a.btn),type:"submit"},"Send message")))})),ce=Object(u.b)(null,{updateUserInformation:function(e){return function(){var t=Object(y.a)(j.a.mark((function t(n,a){var r,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.c.updateUserProfileInformation(e);case 2:r=t.sent,o=a().auth.id,0===r.resultCode?n(K(o)):n(Object(w.b)("contacts",{_error:r.data.messages[0]}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})((function(e){var t=Object(a.useState)(!1),n=Object(v.a)(t,2),o=n[0],s=n[1],u=Object(a.useState)(!1),c=Object(v.a)(u,2),i=c[0],l=c[1],p=Object(a.useState)(!1),m=Object(v.a)(p,2),f=m[0],d=m[1],g=e.match.params.userID;return e.profile?r.a.createElement("div",{className:Y()($.a.gridContainer)},r.a.createElement("div",{className:Y()($.a.userPhoto)},r.a.createElement("img",{alt:"User",src:e.profile.photos.large||L.a}),e.isOwner&&!i&&e.isAuth&&r.a.createElement("div",null,r.a.createElement("button",{className:$.a.btn,type:"button",onClick:l},"change photo")),e.isOwner&&i&&r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.saveUserPhoto(t.target.files[0]),l(!1)}})),!e.isOwner&&!f&&e.isAuth&&r.a.createElement("div",null,r.a.createElement("button",{className:Y()($.a.btn2,$.a.btn),onClick:d},"Send message")),!e.isOwner&&f&&r.a.createElement(ue,{onSubmit:function(t){e.sendMessage(g,t),d(!1)}})),r.a.createElement("div",{className:$.a.status},r.a.createElement(ee,Object.assign({},e,{status:e.status,updateStatus:e.updateStatus}))),r.a.createElement("div",{className:$.a.userInfo},o?r.a.createElement(se,{initialValues:e.profile,onSubmit:function(t){e.updateUserInformation(t),s(!1)},profile:e.profile,changeEditMode:function(){s(!1)}}):r.a.createElement(ae,Object.assign({},e,{profile:e.profile,changeEditMode:function(){s(!0)}})))):r.a.createElement(G.a,null)})),ie=n(137),le=n.n(ie),pe=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:le.a.item},r.a.createElement("img",{src:L.a}),r.a.createElement("div",null,e.message)),r.a.createElement("span",null,"likes",e.like))},me=n(46),fe=n.n(me),de=Object(oe.a)({form:"postForm"})((function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(re.a,{placeholder:"type your post here",name:"post",component:"textarea"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:fe.a.btn},"Add post"))))})),ge=Object(u.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,ActionCreators:e.profilePage.ActionCreators}}),null)((function(e){var t=e.posts.map((function(e){return r.a.createElement(pe,{message:e.message,like:e.likesCount})}));return r.a.createElement("div",{className:fe.a.postBlock},e.isOwner?r.a.createElement("div",{className:fe.a.myPosts},"My posts"):r.a.createElement("div",{className:fe.a.myPosts},"User posts"),e.isOwner&&r.a.createElement(de,{onSubmit:function(t){e.ActionCreators.addPost(t.post)}}),r.a.createElement("div",{className:fe.a.posts},t))})),Ee=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userID;e||(e=this.props.authID)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,sendMessage:this.props.sendMessage,isOwner:!this.props.match.params.userID,isAuth:this.props.isAuth})),r.a.createElement(ge,{isOwner:!this.props.match.params.userID}))}}]),t}(r.a.Component),he=Object(b.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authID:e.auth.id,isAuth:e.auth.isAuth,statusError:e.profilePage.statusError}}),{getProfile:K,getStatus:function(e){return function(){var t=Object(y.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.c.getStatus(e);case 2:a=t.sent,n(X(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(y.a)(j.a.mark((function t(n){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.c.updateStatus(e);case 2:0===(a=t.sent).resultCode?(n(X(e)),n(U(null))):1===a.resultCode&&(r=a.messages[0],n(U(r)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveUserPhoto:function(e){return function(){var t=Object(y.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.c.savePhoto(e);case 2:0===(a=t.sent).resultCode&&n(M(a.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},sendMessage:D}),d.f)(Ee),be=n(45),ve=n(41),Oe=n.n(ve),je=n(138),ye=n.n(je),xe=Object(u.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profile:e.profilePage.profile,id:e.auth.id}}),{logout:be.logout})((function(e){return r.a.createElement("header",{className:Oe.a.header},r.a.createElement("img",{alt:"logo",src:ye.a}),r.a.createElement("div",{className:Oe.a.box},null!==e.profile&&e.id===e.profile.userId&&null!==e.profile.photos.small?r.a.createElement("img",{alt:"user",className:Oe.a.userImg,src:e.profile.photos.small}):r.a.createElement("img",{alt:"user",className:Oe.a.userImg,src:L.a})),e.isAuth?r.a.createElement("div",{className:Oe.a.box},e.login,r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:e.logout},"Logout"))," "):r.a.createElement(c.b,{className:Y()(Oe.a.box,Oe.a.link),to:"/login"},"Login"))})),Se=n(74),we=n.n(Se),Ae=function(e){if(!e)return"Required"},Pe=function(e){var t=e.input,n=e.meta,a=n.touched&&n.error;return r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,{className:a&&we.a.errorBorder})),a&&r.a.createElement("div",null,n.error))},ke=Object(oe.a)({form:"auth"})((function(e){var t=e.captchaUrl,n=Object(te.a)(e,["captchaUrl"]);return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement("div",null,r.a.createElement(re.a,{placeholder:"login",name:"login",component:Pe,validate:[Ae]})),r.a.createElement("div",null,r.a.createElement(re.a,{placeholder:"password",name:"password",component:Pe,validate:[Ae]})),n.error&&r.a.createElement("div",{className:we.a.errorBorder},n.error),r.a.createElement("div",null,r.a.createElement(re.a,{type:"checkbox",name:"rememberMe",component:"input"})," ","remember me"),null!=t&&r.a.createElement("img",{style:{height:100,width:200},src:t}),r.a.createElement("div",null,null!=t&&r.a.createElement(re.a,{type:"text",component:"input",placeholder:"captcha text",name:"captcha",validate:[Ae]})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Submit"))))})),Ie=Object(u.b)((function(e){return{isAuth:e.auth.isAuth,url:e.auth.url}}),{logIn:be.logIn})((function(e){return e.isAuth?r.a.createElement(d.a,{to:"./profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(ke,{captchaUrl:e.url,onSubmit:function(t){e.logIn(t.login,t.password,t.rememberMe,t.captcha)}}))})),Ne=n(75),Fe=n.n(Ne),Ce=n(72),De=n(77),Re=n.n(De),ze=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getExactDialog(this.props.match.params.id)}},{key:"render",value:function(){var e=this,t=this.props.match.params.id;return r.a.createElement("div",null,r.a.createElement("div",null,this.props.isFetching?r.a.createElement(Te,{messages:this.props.messages}):r.a.createElement(G.a,null)),r.a.createElement("div",null,r.a.createElement(Ze,{onSubmit:function(n){e.props.sendMessage(t,n)}})))}}]),t}(r.a.Component),Te=function(e){return e.messages.map((function(e){return r.a.createElement("div",{className:Re.a.messages},r.a.createElement("div",null,r.a.createElement(c.b,{className:Re.a.senderName,to:"/profile/".concat(e.senderId)},e.senderName)),r.a.createElement("div",{className:Y()(Object(Ce.a)({},Re.a.notViewed,!e.viewed))},e.body))}))},Ze=Object(oe.a)({form:"dialog"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(re.a,{name:"body",component:"textarea",type:"text"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Send")))})),Le=Object(b.d)(Object(u.b)((function(e){return{isFetching:e.dialogsPage.isFetching,messages:e.dialogsPage.messages}}),{getExactDialog:function(e){return function(){var t=Object(y.a)(j.a.mark((function t(n){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(N(!1)),t.next=3,A.b.geExactDialog(e);case 3:return a=t.sent,t.next=6,n(I(a.data.items));case 6:n(N(!0));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},startChatting:C,sendMessage:D,updateViewedStatus:function(e){return function(){var t=Object(y.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.b.viewedMessage(e);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d.f)(ze),We=r.a.lazy((function(){return n.e(3).then(n.bind(null,293))})),Ge=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(xe,null),r.a.createElement(h,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(d.b,{path:"/dialogs",render:function(){return r.a.createElement(H,null)}}),r.a.createElement(d.b,{exact:!0,path:"/",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(d.b,{exact:!0,path:"/profile/:userID",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(d.b,{exact:!0,path:"/profile",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(d.b,{exact:!0,path:"/dialog/:id",render:function(){return r.a.createElement(Le,null)}}),r.a.createElement(d.b,{path:"/users",render:(e=We,function(t){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(e,t))})}),r.a.createElement(d.b,{path:"/login",component:Ie}))):r.a.createElement(G.a,null);var e}}]),t}(r.a.Component),Ve=Object(u.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:Ne.initializeApp})(Ge);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=n(139),Qe=n(131),Je=n(128),Xe=Object(b.c)({profilePage:B,dialogsPage:R,usersPage:Je.b,auth:be.default,form:Qe.a,app:Fe.a}),Me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.d,Ue=Object(b.e)(Xe,Me(Object(b.a)(He.a)));s.a.render(r.a.createElement(u.a,{store:Ue},r.a.createElement(c.a,null,r.a.createElement(Ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t){e.exports="data:image/png;base64,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"},35:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(135),s=n.n(o);t.a=function(){return r.a.createElement("div",{className:s.a.ldsRing},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}},41:function(e,t,n){e.exports={header:"Header_header__36F62",box:"Header_box__379Ah",link:"Header_link__cQOlN",userImg:"Header_userImg__-x5iX"}},45:function(e,t,n){"use strict";n.r(t),n.d(t,"ActionCreators",(function(){return l})),n.d(t,"signIn",(function(){return p})),n.d(t,"getCaptchaUrl",(function(){return m})),n.d(t,"logIn",(function(){return f})),n.d(t,"logout",(function(){return d}));var a=n(4),r=n.n(a),o=n(10),s=n(9),u=n(21),c=n(11),i={id:null,login:null,email:null,isAuth:!1,url:null},l={setAuthUserData:function(e,t,n,a){return{type:"SET_USER_DATA",data:{id:e,login:t,email:n,isAuth:a}}},putCaptchaUrl:function(e){return{type:"GET_CAPTCHA_URL",url:e}}},p=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.authMe();case 2:0===(n=e.sent).resultCode&&(a=n.data,o=a.id,s=a.login,u=a.email,t(l.setAuthUserData(o,s,u,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.getCaptcha();case 2:n=e.sent,t(l.putCaptchaUrl(n.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t,n,a){return function(){var s=Object(o.a)(r.a.mark((function o(s){var i,l;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.login(e,t,n,a);case 2:0===(i=r.sent).resultCode?s(p()):(10===i.resultCode&&s(m()),l=i.messages.length>0?i.messages[0]:"Some error",s(Object(u.b)("auth",{_error:l})));case 4:case"end":return r.stop()}}),o)})));return function(e){return s.apply(this,arguments)}}()},d=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.logout();case 2:0===e.sent.resultCode&&t(l.setAuthUserData(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(s.a)({},e,{},t.data);case"GET_CAPTCHA_URL":return Object(s.a)({},e,{url:t.url});default:return e}}},46:function(e,t,n){e.exports={postBlock:"MyPosts_postBlock__TeYZT",posts:"MyPosts_posts__-yk0M",btn:"MyPosts_btn__o7IJB",myPosts:"MyPosts_myPosts__1lzA1"}},53:function(e,t,n){e.exports={dialog:"DialogItem_dialog__2oBoH",userPhoto:"DialogItem_userPhoto__1KjJH",userName:"DialogItem_userName__3_hXR",newMessage:"DialogItem_newMessage__3lORW",lastActivity:"DialogItem_lastActivity__YfCbB"}},74:function(e,t,n){e.exports={errorBorder:"validation_errorBorder__24bXb"}},75:function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{c(a.next(e))}catch(t){o(t)}}function u(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}c((a=a.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(u){o=[6,u],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.initializeApp=t.initializeUser=void 0;var s=n(45),u={initialized:!1};t.initializeUser=function(){return{type:" INITIALIZE_USER"}},t.initializeApp=function(){return function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,e(s.signIn())];case 1:return n.sent(),[4,e(t.initializeUser())];case 2:return n.sent(),[2]}}))}))}},t.default=function(e,t){switch(void 0===e&&(e=u),t.type){case" INITIALIZE_USER":return a(a({},e),{initialized:!0});default:return e}}},77:function(e,t,n){e.exports={messages:"Dialog_messages__yHAkH",senderName:"Dialog_senderName__3Cebg",notViewed:"Dialog_notViewed__2HfF1"}}},[[165,1,2]]]);
//# sourceMappingURL=main.1c4c2cd2.chunk.js.map